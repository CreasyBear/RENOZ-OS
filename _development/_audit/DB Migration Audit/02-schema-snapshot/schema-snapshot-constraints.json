[{"constraints": [{"name": "audit_log_entries_pkey", "type": "p", "table": "audit_log_entries", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "flow_state_pkey", "type": "p", "table": "flow_state", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "identities_pkey", "type": "p", "table": "identities", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "identities_provider_id_provider_unique", "type": "u", "table": "identities", "schema": "auth", "definition": "UNIQUE (provider_id, provider)"}, {"name": "identities_user_id_fkey", "type": "f", "table": "identities", "schema": "auth", "definition": "FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE"}, {"name": "instances_pkey", "type": "p", "table": "instances", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "amr_id_pk", "type": "p", "table": "mfa_amr_claims", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "mfa_amr_claims_session_id_authentication_method_pkey", "type": "u", "table": "mfa_amr_claims", "schema": "auth", "definition": "UNIQUE (session_id, authentication_method)"}, {"name": "mfa_amr_claims_session_id_fkey", "type": "f", "table": "mfa_amr_claims", "schema": "auth", "definition": "FOREIGN KEY (session_id) REFERENCES auth.sessions(id) ON DELETE CASCADE"}, {"name": "mfa_challenges_auth_factor_id_fkey", "type": "f", "table": "mfa_challenges", "schema": "auth", "definition": "FOREIGN KEY (factor_id) REFERENCES auth.mfa_factors(id) ON DELETE CASCADE"}, {"name": "mfa_challenges_pkey", "type": "p", "table": "mfa_challenges", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "mfa_factors_last_challenged_at_key", "type": "u", "table": "mfa_factors", "schema": "auth", "definition": "UNIQUE (last_challenged_at)"}, {"name": "mfa_factors_pkey", "type": "p", "table": "mfa_factors", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "mfa_factors_user_id_fkey", "type": "f", "table": "mfa_factors", "schema": "auth", "definition": "FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE"}, {"name": "oauth_authorizations_authorization_code_key", "type": "u", "table": "oauth_authorizations", "schema": "auth", "definition": "UNIQUE (authorization_code)"}, {"name": "oauth_authorizations_authorization_code_length", "type": "c", "table": "oauth_authorizations", "schema": "auth", "definition": "CHECK (char_length(authorization_code) <= 255)"}, {"name": "oauth_authorizations_authorization_id_key", "type": "u", "table": "oauth_authorizations", "schema": "auth", "definition": "UNIQUE (authorization_id)"}, {"name": "oauth_authorizations_client_id_fkey", "type": "f", "table": "oauth_authorizations", "schema": "auth", "definition": "FOREIGN KEY (client_id) REFERENCES auth.oauth_clients(id) ON DELETE CASCADE"}, {"name": "oauth_authorizations_code_challenge_length", "type": "c", "table": "oauth_authorizations", "schema": "auth", "definition": "CHECK (char_length(code_challenge) <= 128)"}, {"name": "oauth_authorizations_expires_at_future", "type": "c", "table": "oauth_authorizations", "schema": "auth", "definition": "CHECK (expires_at > created_at)"}, {"name": "oauth_authorizations_nonce_length", "type": "c", "table": "oauth_authorizations", "schema": "auth", "definition": "CHECK (char_length(nonce) <= 255)"}, {"name": "oauth_authorizations_pkey", "type": "p", "table": "oauth_authorizations", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "oauth_authorizations_redirect_uri_length", "type": "c", "table": "oauth_authorizations", "schema": "auth", "definition": "CHECK (char_length(redirect_uri) <= 2048)"}, {"name": "oauth_authorizations_resource_length", "type": "c", "table": "oauth_authorizations", "schema": "auth", "definition": "CHECK (char_length(resource) <= 2048)"}, {"name": "oauth_authorizations_scope_length", "type": "c", "table": "oauth_authorizations", "schema": "auth", "definition": "CHECK (char_length(scope) <= 4096)"}, {"name": "oauth_authorizations_state_length", "type": "c", "table": "oauth_authorizations", "schema": "auth", "definition": "CHECK (char_length(state) <= 4096)"}, {"name": "oauth_authorizations_user_id_fkey", "type": "f", "table": "oauth_authorizations", "schema": "auth", "definition": "FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE"}, {"name": "oauth_client_states_pkey", "type": "p", "table": "oauth_client_states", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "oauth_clients_client_name_length", "type": "c", "table": "oauth_clients", "schema": "auth", "definition": "CHECK (char_length(client_name) <= 1024)"}, {"name": "oauth_clients_client_uri_length", "type": "c", "table": "oauth_clients", "schema": "auth", "definition": "CHECK (char_length(client_uri) <= 2048)"}, {"name": "oauth_clients_logo_uri_length", "type": "c", "table": "oauth_clients", "schema": "auth", "definition": "CHECK (char_length(logo_uri) <= 2048)"}, {"name": "oauth_clients_pkey", "type": "p", "table": "oauth_clients", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "oauth_consents_client_id_fkey", "type": "f", "table": "oauth_consents", "schema": "auth", "definition": "FOREIGN KEY (client_id) REFERENCES auth.oauth_clients(id) ON DELETE CASCADE"}, {"name": "oauth_consents_pkey", "type": "p", "table": "oauth_consents", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "oauth_consents_revoked_after_granted", "type": "c", "table": "oauth_consents", "schema": "auth", "definition": "CHECK (revoked_at IS NULL OR revoked_at >= granted_at)"}, {"name": "oauth_consents_scopes_length", "type": "c", "table": "oauth_consents", "schema": "auth", "definition": "CHECK (char_length(scopes) <= 2048)"}, {"name": "oauth_consents_scopes_not_empty", "type": "c", "table": "oauth_consents", "schema": "auth", "definition": "CHECK (char_length(TRIM(BOTH FROM scopes)) > 0)"}, {"name": "oauth_consents_user_client_unique", "type": "u", "table": "oauth_consents", "schema": "auth", "definition": "UNIQUE (user_id, client_id)"}, {"name": "oauth_consents_user_id_fkey", "type": "f", "table": "oauth_consents", "schema": "auth", "definition": "FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE"}, {"name": "one_time_tokens_pkey", "type": "p", "table": "one_time_tokens", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "one_time_tokens_token_hash_check", "type": "c", "table": "one_time_tokens", "schema": "auth", "definition": "CHECK (char_length(token_hash) > 0)"}, {"name": "one_time_tokens_user_id_fkey", "type": "f", "table": "one_time_tokens", "schema": "auth", "definition": "FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE"}, {"name": "refresh_tokens_pkey", "type": "p", "table": "refresh_tokens", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "refresh_tokens_session_id_fkey", "type": "f", "table": "refresh_tokens", "schema": "auth", "definition": "FOREIGN KEY (session_id) REFERENCES auth.sessions(id) ON DELETE CASCADE"}, {"name": "refresh_tokens_token_unique", "type": "u", "table": "refresh_tokens", "schema": "auth", "definition": "UNIQUE (token)"}, {"name": "entity_id not empty", "type": "c", "table": "saml_providers", "schema": "auth", "definition": "CHECK (char_length(entity_id) > 0)"}, {"name": "metadata_url not empty", "type": "c", "table": "saml_providers", "schema": "auth", "definition": "CHECK (metadata_url = NULL::text OR char_length(metadata_url) > 0)"}, {"name": "metadata_xml not empty", "type": "c", "table": "saml_providers", "schema": "auth", "definition": "CHECK (char_length(metadata_xml) > 0)"}, {"name": "saml_providers_entity_id_key", "type": "u", "table": "saml_providers", "schema": "auth", "definition": "UNIQUE (entity_id)"}, {"name": "saml_providers_pkey", "type": "p", "table": "saml_providers", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "saml_providers_sso_provider_id_fkey", "type": "f", "table": "saml_providers", "schema": "auth", "definition": "FOREIGN KEY (sso_provider_id) REFERENCES auth.sso_providers(id) ON DELETE CASCADE"}, {"name": "request_id not empty", "type": "c", "table": "saml_relay_states", "schema": "auth", "definition": "CHECK (char_length(request_id) > 0)"}, {"name": "saml_relay_states_flow_state_id_fkey", "type": "f", "table": "saml_relay_states", "schema": "auth", "definition": "FOREIGN KEY (flow_state_id) REFERENCES auth.flow_state(id) ON DELETE CASCADE"}, {"name": "saml_relay_states_pkey", "type": "p", "table": "saml_relay_states", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "saml_relay_states_sso_provider_id_fkey", "type": "f", "table": "saml_relay_states", "schema": "auth", "definition": "FOREIGN KEY (sso_provider_id) REFERENCES auth.sso_providers(id) ON DELETE CASCADE"}, {"name": "schema_migrations_pkey", "type": "p", "table": "schema_migrations", "schema": "auth", "definition": "PRIMARY KEY (version)"}, {"name": "sessions_oauth_client_id_fkey", "type": "f", "table": "sessions", "schema": "auth", "definition": "FOREIGN KEY (oauth_client_id) REFERENCES auth.oauth_clients(id) ON DELETE CASCADE"}, {"name": "sessions_pkey", "type": "p", "table": "sessions", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "sessions_scopes_length", "type": "c", "table": "sessions", "schema": "auth", "definition": "CHECK (char_length(scopes) <= 4096)"}, {"name": "sessions_user_id_fkey", "type": "f", "table": "sessions", "schema": "auth", "definition": "FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE"}, {"name": "domain not empty", "type": "c", "table": "sso_domains", "schema": "auth", "definition": "CHECK (char_length(domain) > 0)"}, {"name": "sso_domains_pkey", "type": "p", "table": "sso_domains", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "sso_domains_sso_provider_id_fkey", "type": "f", "table": "sso_domains", "schema": "auth", "definition": "FOREIGN KEY (sso_provider_id) REFERENCES auth.sso_providers(id) ON DELETE CASCADE"}, {"name": "resource_id not empty", "type": "c", "table": "sso_providers", "schema": "auth", "definition": "CHECK (resource_id = NULL::text OR char_length(resource_id) > 0)"}, {"name": "sso_providers_pkey", "type": "p", "table": "sso_providers", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "users_email_change_confirm_status_check", "type": "c", "table": "users", "schema": "auth", "definition": "CHECK (email_change_confirm_status >= 0 AND email_change_confirm_status <= 2)"}, {"name": "users_phone_key", "type": "u", "table": "users", "schema": "auth", "definition": "UNIQUE (phone)"}, {"name": "users_pkey", "type": "p", "table": "users", "schema": "auth", "definition": "PRIMARY KEY (id)"}, {"name": "activities_created_by_users_id_fk", "type": "f", "table": "activities", "schema": "public", "definition": "FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "activities_organization_id_organizations_id_fk", "type": "f", "table": "activities", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "activities_pkey", "type": "p", "table": "activities", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "activities_user_id_users_id_fk", "type": "f", "table": "activities", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "addresses_customer_id_customers_id_fk", "type": "f", "table": "addresses", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "addresses_organization_id_organizations_id_fk", "type": "f", "table": "addresses", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "addresses_pkey", "type": "p", "table": "addresses", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "api_tokens_organization_id_organizations_id_fk", "type": "f", "table": "api_tokens", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "api_tokens_pkey", "type": "p", "table": "api_tokens", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "api_tokens_revoked_by_users_id_fk", "type": "f", "table": "api_tokens", "schema": "public", "definition": "FOREIGN KEY (revoked_by) REFERENCES users(id)"}, {"name": "api_tokens_user_id_users_id_fk", "type": "f", "table": "api_tokens", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "attachments_entity_type_check", "type": "c", "table": "attachments", "schema": "public", "definition": "CHECK (entity_type IS NULL OR (entity_type = ANY (ARRAY['customer'::text, 'contact'::text, 'order'::text, 'opportunity'::text, 'product'::text, 'inventory'::text, 'supplier'::text, 'warranty'::text, 'issue'::text, 'user'::text, 'email'::text, 'call'::text, 'job'::text, 'job_assignment'::text, 'warranty_claim'::text, 'quote'::text, 'shipment'::text])))"}, {"name": "attachments_organization_id_organizations_id_fk", "type": "f", "table": "attachments", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "attachments_pkey", "type": "p", "table": "attachments", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "attachments_uploaded_by_users_id_fk", "type": "f", "table": "attachments", "schema": "public", "definition": "FOREIGN KEY (uploaded_by) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "audit_logs_organization_id_organizations_id_fk", "type": "f", "table": "audit_logs", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "audit_logs_pkey", "type": "p", "table": "audit_logs", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "audit_logs_user_id_users_id_fk", "type": "f", "table": "audit_logs", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "business_hours_config_organization_id_organizations_id_fk", "type": "f", "table": "business_hours_config", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "business_hours_config_pkey", "type": "p", "table": "business_hours_config", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "campaign_recipients_campaign_id_email_campaigns_id_fk", "type": "f", "table": "campaign_recipients", "schema": "public", "definition": "FOREIGN KEY (campaign_id) REFERENCES email_campaigns(id) ON DELETE CASCADE"}, {"name": "campaign_recipients_contact_id_contacts_id_fk", "type": "f", "table": "campaign_recipients", "schema": "public", "definition": "FOREIGN KEY (contact_id) REFERENCES contacts(id) ON DELETE SET NULL"}, {"name": "campaign_recipients_organization_id_organizations_id_fk", "type": "f", "table": "campaign_recipients", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "campaign_recipients_pkey", "type": "p", "table": "campaign_recipients", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "categories_organization_id_organizations_id_fk", "type": "f", "table": "categories", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "categories_pkey", "type": "p", "table": "categories", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "category_parent_not_self", "type": "c", "table": "categories", "schema": "public", "definition": "CHECK (parent_id IS NULL OR parent_id <> id)"}, {"name": "checklist_templates_organization_id_organizations_id_fk", "type": "f", "table": "checklist_templates", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "checklist_templates_pkey", "type": "p", "table": "checklist_templates", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "contacts_customer_id_customers_id_fk", "type": "f", "table": "contacts", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "contacts_organization_id_organizations_id_fk", "type": "f", "table": "contacts", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "contacts_pkey", "type": "p", "table": "contacts", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "credit_notes_applied_to_order_id_orders_id_fk", "type": "f", "table": "credit_notes", "schema": "public", "definition": "FOREIGN KEY (applied_to_order_id) REFERENCES orders(id) ON DELETE SET NULL"}, {"name": "credit_notes_customer_id_customers_id_fk", "type": "f", "table": "credit_notes", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE RESTRICT"}, {"name": "credit_notes_order_id_orders_id_fk", "type": "f", "table": "credit_notes", "schema": "public", "definition": "FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE SET NULL"}, {"name": "credit_notes_organization_id_organizations_id_fk", "type": "f", "table": "credit_notes", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "credit_notes_pkey", "type": "p", "table": "credit_notes", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "csat_responses_issue_id_issues_id_fk", "type": "f", "table": "csat_responses", "schema": "public", "definition": "FOREIGN KEY (issue_id) REFERENCES issues(id) ON DELETE CASCADE"}, {"name": "csat_responses_organization_id_organizations_id_fk", "type": "f", "table": "csat_responses", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "csat_responses_pkey", "type": "p", "table": "csat_responses", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "csat_responses_submitted_by_customer_id_customers_id_fk", "type": "f", "table": "csat_responses", "schema": "public", "definition": "FOREIGN KEY (submitted_by_customer_id) REFERENCES customers(id) ON DELETE SET NULL"}, {"name": "csat_responses_submitted_by_user_id_users_id_fk", "type": "f", "table": "csat_responses", "schema": "public", "definition": "FOREIGN KEY (submitted_by_user_id) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "csat_responses_token_unique", "type": "u", "table": "csat_responses", "schema": "public", "definition": "UNIQUE (token)"}, {"name": "custom_field_values_created_by_users_id_fk", "type": "f", "table": "custom_field_values", "schema": "public", "definition": "FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "custom_field_values_custom_field_id_custom_fields_id_fk", "type": "f", "table": "custom_field_values", "schema": "public", "definition": "FOREIGN KEY (custom_field_id) REFERENCES custom_fields(id) ON DELETE CASCADE"}, {"name": "custom_field_values_pkey", "type": "p", "table": "custom_field_values", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "custom_field_values_updated_by_users_id_fk", "type": "f", "table": "custom_field_values", "schema": "public", "definition": "FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "custom_fields_created_by_users_id_fk", "type": "f", "table": "custom_fields", "schema": "public", "definition": "FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "custom_fields_organization_id_organizations_id_fk", "type": "f", "table": "custom_fields", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "custom_fields_pkey", "type": "p", "table": "custom_fields", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "custom_fields_updated_by_users_id_fk", "type": "f", "table": "custom_fields", "schema": "public", "definition": "FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "custom_reports_organization_id_organizations_id_fk", "type": "f", "table": "custom_reports", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "custom_reports_pkey", "type": "p", "table": "custom_reports", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "customer_activities_contact_id_contacts_id_fk", "type": "f", "table": "customer_activities", "schema": "public", "definition": "FOREIGN KEY (contact_id) REFERENCES contacts(id) ON DELETE SET NULL"}, {"name": "customer_activities_customer_id_customers_id_fk", "type": "f", "table": "customer_activities", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "customer_activities_organization_id_organizations_id_fk", "type": "f", "table": "customer_activities", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "customer_activities_pkey", "type": "p", "table": "customer_activities", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "customer_health_metrics_customer_id_customers_id_fk", "type": "f", "table": "customer_health_metrics", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "customer_health_metrics_organization_id_organizations_id_fk", "type": "f", "table": "customer_health_metrics", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "customer_health_metrics_pkey", "type": "p", "table": "customer_health_metrics", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "engagement_score_range", "type": "c", "table": "customer_health_metrics", "schema": "public", "definition": "CHECK (engagement_score IS NULL OR engagement_score >= 0::numeric AND engagement_score <= 100::numeric)"}, {"name": "frequency_score_range", "type": "c", "table": "customer_health_metrics", "schema": "public", "definition": "CHECK (frequency_score IS NULL OR frequency_score >= 0::numeric AND frequency_score <= 100::numeric)"}, {"name": "monetary_score_range", "type": "c", "table": "customer_health_metrics", "schema": "public", "definition": "CHECK (monetary_score IS NULL OR monetary_score >= 0::numeric AND monetary_score <= 100::numeric)"}, {"name": "overall_score_range", "type": "c", "table": "customer_health_metrics", "schema": "public", "definition": "CHECK (overall_score IS NULL OR overall_score >= 0::numeric AND overall_score <= 100::numeric)"}, {"name": "recency_score_range", "type": "c", "table": "customer_health_metrics", "schema": "public", "definition": "CHECK (recency_score IS NULL OR recency_score >= 0::numeric AND recency_score <= 100::numeric)"}, {"name": "customer_merge_audit_merged_customer_id_customers_id_fk", "type": "f", "table": "customer_merge_audit", "schema": "public", "definition": "FOREIGN KEY (merged_customer_id) REFERENCES customers(id) ON DELETE SET NULL"}, {"name": "customer_merge_audit_organization_id_organizations_id_fk", "type": "f", "table": "customer_merge_audit", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "customer_merge_audit_pkey", "type": "p", "table": "customer_merge_audit", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "customer_merge_audit_primary_customer_id_customers_id_fk", "type": "f", "table": "customer_merge_audit", "schema": "public", "definition": "FOREIGN KEY (primary_customer_id) REFERENCES customers(id) ON DELETE SET NULL"}, {"name": "customer_portal_sessions_contact_id_contacts_id_fk", "type": "f", "table": "customer_portal_sessions", "schema": "public", "definition": "FOREIGN KEY (contact_id) REFERENCES contacts(id) ON DELETE SET NULL"}, {"name": "customer_portal_sessions_customer_id_customers_id_fk", "type": "f", "table": "customer_portal_sessions", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE SET NULL"}, {"name": "customer_portal_sessions_job_assignment_id_job_assignments_id_f", "type": "f", "table": "customer_portal_sessions", "schema": "public", "definition": "FOREIGN KEY (job_assignment_id) REFERENCES job_assignments(id) ON DELETE SET NULL"}, {"name": "customer_portal_sessions_organization_id_organizations_id_fk", "type": "f", "table": "customer_portal_sessions", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "customer_portal_sessions_pkey", "type": "p", "table": "customer_portal_sessions", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "contract_dates_valid", "type": "c", "table": "customer_priorities", "schema": "public", "definition": "CHECK (contract_end_date IS NULL OR contract_start_date IS NULL OR contract_end_date > contract_start_date)"}, {"name": "customer_priorities_customer_id_customers_id_fk", "type": "f", "table": "customer_priorities", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "customer_priorities_organization_id_organizations_id_fk", "type": "f", "table": "customer_priorities", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "customer_priorities_pkey", "type": "p", "table": "customer_priorities", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "customer_price_discount_range", "type": "c", "table": "customer_product_prices", "schema": "public", "definition": "CHECK (discount_percent IS NULL OR discount_percent >= 0::numeric AND discount_percent <= 100::numeric)"}, {"name": "customer_price_non_negative", "type": "c", "table": "customer_product_prices", "schema": "public", "definition": "CHECK (price >= 0::numeric)"}, {"name": "customer_price_valid_to_after_from", "type": "c", "table": "customer_product_prices", "schema": "public", "definition": "CHECK (valid_to IS NULL OR valid_to > valid_from)"}, {"name": "customer_product_prices_customer_id_customers_id_fk", "type": "f", "table": "customer_product_prices", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "customer_product_prices_organization_id_organizations_id_fk", "type": "f", "table": "customer_product_prices", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "customer_product_prices_pkey", "type": "p", "table": "customer_product_prices", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "customer_product_prices_product_id_products_id_fk", "type": "f", "table": "customer_product_prices", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "customer_tag_assignments_customer_id_customers_id_fk", "type": "f", "table": "customer_tag_assignments", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "customer_tag_assignments_organization_id_organizations_id_fk", "type": "f", "table": "customer_tag_assignments", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "customer_tag_assignments_pkey", "type": "p", "table": "customer_tag_assignments", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "customer_tag_assignments_tag_id_customer_tags_id_fk", "type": "f", "table": "customer_tag_assignments", "schema": "public", "definition": "FOREIGN KEY (tag_id) REFERENCES customer_tags(id) ON DELETE CASCADE"}, {"name": "customer_tags_organization_id_organizations_id_fk", "type": "f", "table": "customer_tags", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "customer_tags_pkey", "type": "p", "table": "customer_tags", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "customers_organization_id_organizations_id_fk", "type": "f", "table": "customers", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "customers_parent_id_customers_id_fk", "type": "f", "table": "customers", "schema": "public", "definition": "FOREIGN KEY (parent_id) REFERENCES customers(id) ON DELETE SET NULL"}, {"name": "customers_pkey", "type": "p", "table": "customers", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "health_score_range", "type": "c", "table": "customers", "schema": "public", "definition": "CHECK (health_score IS NULL OR health_score >= 0 AND health_score <= 100)"}, {"name": "parent_not_self", "type": "c", "table": "customers", "schema": "public", "definition": "CHECK (parent_id IS NULL OR parent_id <> id)"}, {"name": "dashboard_layouts_organization_id_organizations_id_fk", "type": "f", "table": "dashboard_layouts", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "dashboard_layouts_pkey", "type": "p", "table": "dashboard_layouts", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "dashboard_layouts_user_id_users_id_fk", "type": "f", "table": "dashboard_layouts", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "data_exports_entities_nonempty", "type": "c", "table": "data_exports", "schema": "public", "definition": "CHECK (array_length(entities, 1) > 0)"}, {"name": "data_exports_organization_id_organizations_id_fk", "type": "f", "table": "data_exports", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "data_exports_pkey", "type": "p", "table": "data_exports", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "data_exports_requested_by_users_id_fk", "type": "f", "table": "data_exports", "schema": "public", "definition": "FOREIGN KEY (requested_by) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "deferred_revenue_order_id_orders_id_fk", "type": "f", "table": "deferred_revenue", "schema": "public", "definition": "FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE"}, {"name": "deferred_revenue_organization_id_organizations_id_fk", "type": "f", "table": "deferred_revenue", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "deferred_revenue_pkey", "type": "p", "table": "deferred_revenue", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "email_campaigns_created_by_id_users_id_fk", "type": "f", "table": "email_campaigns", "schema": "public", "definition": "FOREIGN KEY (created_by_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "email_campaigns_organization_id_organizations_id_fk", "type": "f", "table": "email_campaigns", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "email_campaigns_pkey", "type": "p", "table": "email_campaigns", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "email_history_campaign_id_email_campaigns_id_fk", "type": "f", "table": "email_history", "schema": "public", "definition": "FOREIGN KEY (campaign_id) REFERENCES email_campaigns(id) ON DELETE SET NULL"}, {"name": "email_history_customer_id_customers_id_fk", "type": "f", "table": "email_history", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE SET NULL"}, {"name": "email_history_organization_id_organizations_id_fk", "type": "f", "table": "email_history", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "email_history_pkey", "type": "p", "table": "email_history", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "email_history_sender_id_users_id_fk", "type": "f", "table": "email_history", "schema": "public", "definition": "FOREIGN KEY (sender_id) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "email_history_template_id_email_templates_id_fk", "type": "f", "table": "email_history", "schema": "public", "definition": "FOREIGN KEY (template_id) REFERENCES email_templates(id) ON DELETE SET NULL"}, {"name": "email_signatures_organization_id_organizations_id_fk", "type": "f", "table": "email_signatures", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "email_signatures_pkey", "type": "p", "table": "email_signatures", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "email_signatures_user_id_users_id_fk", "type": "f", "table": "email_signatures", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "email_templates_organization_id_organizations_id_fk", "type": "f", "table": "email_templates", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "email_templates_pkey", "type": "p", "table": "email_templates", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "escalation_history_organization_id_organizations_id_fk", "type": "f", "table": "escalation_history", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "escalation_history_pkey", "type": "p", "table": "escalation_history", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "escalation_rules_organization_id_organizations_id_fk", "type": "f", "table": "escalation_rules", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "escalation_rules_pkey", "type": "p", "table": "escalation_rules", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "inventory_allocation_max", "type": "c", "table": "inventory", "schema": "public", "definition": "CHECK (quantity_allocated <= quantity_on_hand)"}, {"name": "inventory_location_id_warehouse_locations_id_fk", "type": "f", "table": "inventory", "schema": "public", "definition": "FOREIGN KEY (location_id) REFERENCES warehouse_locations(id) ON DELETE CASCADE"}, {"name": "inventory_organization_id_organizations_id_fk", "type": "f", "table": "inventory", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "inventory_pkey", "type": "p", "table": "inventory", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "inventory_product_id_products_id_fk", "type": "f", "table": "inventory", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "inventory_alerts_location_id_warehouse_locations_id_fk", "type": "f", "table": "inventory_alerts", "schema": "public", "definition": "FOREIGN KEY (location_id) REFERENCES warehouse_locations(id) ON DELETE CASCADE"}, {"name": "inventory_alerts_organization_id_organizations_id_fk", "type": "f", "table": "inventory_alerts", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "inventory_alerts_pkey", "type": "p", "table": "inventory_alerts", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "inventory_alerts_product_id_products_id_fk", "type": "f", "table": "inventory_alerts", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "inventory_cost_layers_inventory_id_inventory_id_fk", "type": "f", "table": "inventory_cost_layers", "schema": "public", "definition": "FOREIGN KEY (inventory_id) REFERENCES inventory(id) ON DELETE CASCADE"}, {"name": "inventory_cost_layers_organization_id_organizations_id_fk", "type": "f", "table": "inventory_cost_layers", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "inventory_cost_layers_pkey", "type": "p", "table": "inventory_cost_layers", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "inventory_forecasts_organization_id_organizations_id_fk", "type": "f", "table": "inventory_forecasts", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "inventory_forecasts_pkey", "type": "p", "table": "inventory_forecasts", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "inventory_forecasts_product_id_products_id_fk", "type": "f", "table": "inventory_forecasts", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "inventory_movements_inventory_id_inventory_id_fk", "type": "f", "table": "inventory_movements", "schema": "public", "definition": "FOREIGN KEY (inventory_id) REFERENCES inventory(id) ON DELETE RESTRICT"}, {"name": "inventory_movements_location_id_warehouse_locations_id_fk", "type": "f", "table": "inventory_movements", "schema": "public", "definition": "FOREIGN KEY (location_id) REFERENCES warehouse_locations(id) ON DELETE RESTRICT"}, {"name": "inventory_movements_organization_id_organizations_id_fk", "type": "f", "table": "inventory_movements", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "inventory_movements_pkey", "type": "p", "table": "inventory_movements", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "inventory_movements_product_id_products_id_fk", "type": "f", "table": "inventory_movements", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE RESTRICT"}, {"name": "issue_templates_default_assignee_id_users_id_fk", "type": "f", "table": "issue_templates", "schema": "public", "definition": "FOREIGN KEY (default_assignee_id) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "issue_templates_organization_id_organizations_id_fk", "type": "f", "table": "issue_templates", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "issue_templates_pkey", "type": "p", "table": "issue_templates", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "issues_assigned_to_user_id_users_id_fk", "type": "f", "table": "issues", "schema": "public", "definition": "FOREIGN KEY (assigned_to_user_id) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "issues_customer_id_customers_id_fk", "type": "f", "table": "issues", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE SET NULL"}, {"name": "issues_organization_id_organizations_id_fk", "type": "f", "table": "issues", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "issues_pkey", "type": "p", "table": "issues", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "issues_sla_tracking_id_sla_tracking_id_fk", "type": "f", "table": "issues", "schema": "public", "definition": "FOREIGN KEY (sla_tracking_id) REFERENCES sla_tracking(id) ON DELETE SET NULL"}, {"name": "job_assignments_customer_id_customers_id_fk", "type": "f", "table": "job_assignments", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE RESTRICT"}, {"name": "job_assignments_installer_id_users_id_fk", "type": "f", "table": "job_assignments", "schema": "public", "definition": "FOREIGN KEY (installer_id) REFERENCES users(id) ON DELETE RESTRICT"}, {"name": "job_assignments_order_id_orders_id_fk", "type": "f", "table": "job_assignments", "schema": "public", "definition": "FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE SET NULL"}, {"name": "job_assignments_organization_id_organizations_id_fk", "type": "f", "table": "job_assignments", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "job_assignments_pkey", "type": "p", "table": "job_assignments", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "job_assignments_sla_tracking_id_sla_tracking_id_fk", "type": "f", "table": "job_assignments", "schema": "public", "definition": "FOREIGN KEY (sla_tracking_id) REFERENCES sla_tracking(id) ON DELETE SET NULL"}, {"name": "job_checklist_items_checklist_id_job_checklists_id_fk", "type": "f", "table": "job_checklist_items", "schema": "public", "definition": "FOREIGN KEY (checklist_id) REFERENCES job_checklists(id) ON DELETE CASCADE"}, {"name": "job_checklist_items_completed_by_users_id_fk", "type": "f", "table": "job_checklist_items", "schema": "public", "definition": "FOREIGN KEY (completed_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "job_checklist_items_organization_id_organizations_id_fk", "type": "f", "table": "job_checklist_items", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "job_checklist_items_pkey", "type": "p", "table": "job_checklist_items", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "job_checklists_job_id_job_assignments_id_fk", "type": "f", "table": "job_checklists", "schema": "public", "definition": "FOREIGN KEY (job_id) REFERENCES job_assignments(id) ON DELETE CASCADE"}, {"name": "job_checklists_organization_id_organizations_id_fk", "type": "f", "table": "job_checklists", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "job_checklists_pkey", "type": "p", "table": "job_checklists", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "job_checklists_template_id_checklist_templates_id_fk", "type": "f", "table": "job_checklists", "schema": "public", "definition": "FOREIGN KEY (template_id) REFERENCES checklist_templates(id) ON DELETE SET NULL"}, {"name": "job_materials_job_id_job_assignments_id_fk", "type": "f", "table": "job_materials", "schema": "public", "definition": "FOREIGN KEY (job_id) REFERENCES job_assignments(id) ON DELETE CASCADE"}, {"name": "job_materials_organization_id_organizations_id_fk", "type": "f", "table": "job_materials", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "job_materials_pkey", "type": "p", "table": "job_materials", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "job_materials_product_id_products_id_fk", "type": "f", "table": "job_materials", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE RESTRICT"}, {"name": "job_photos_job_assignment_id_job_assignments_id_fk", "type": "f", "table": "job_photos", "schema": "public", "definition": "FOREIGN KEY (job_assignment_id) REFERENCES job_assignments(id) ON DELETE CASCADE"}, {"name": "job_photos_organization_id_organizations_id_fk", "type": "f", "table": "job_photos", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "job_photos_pkey", "type": "p", "table": "job_photos", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "job_tasks_assignee_id_users_id_fk", "type": "f", "table": "job_tasks", "schema": "public", "definition": "FOREIGN KEY (assignee_id) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "job_tasks_job_id_job_assignments_id_fk", "type": "f", "table": "job_tasks", "schema": "public", "definition": "FOREIGN KEY (job_id) REFERENCES job_assignments(id) ON DELETE CASCADE"}, {"name": "job_tasks_organization_id_organizations_id_fk", "type": "f", "table": "job_tasks", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "job_tasks_pkey", "type": "p", "table": "job_tasks", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "job_templates_checklist_template_id_checklist_templates_id_fk", "type": "f", "table": "job_templates", "schema": "public", "definition": "FOREIGN KEY (checklist_template_id) REFERENCES checklist_templates(id) ON DELETE SET NULL"}, {"name": "job_templates_organization_id_organizations_id_fk", "type": "f", "table": "job_templates", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "job_templates_pkey", "type": "p", "table": "job_templates", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "job_templates_sla_configuration_id_sla_configurations_id_fk", "type": "f", "table": "job_templates", "schema": "public", "definition": "FOREIGN KEY (sla_configuration_id) REFERENCES sla_configurations(id) ON DELETE SET NULL"}, {"name": "job_time_entries_job_id_job_assignments_id_fk", "type": "f", "table": "job_time_entries", "schema": "public", "definition": "FOREIGN KEY (job_id) REFERENCES job_assignments(id) ON DELETE CASCADE"}, {"name": "job_time_entries_organization_id_organizations_id_fk", "type": "f", "table": "job_time_entries", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "job_time_entries_pkey", "type": "p", "table": "job_time_entries", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "job_time_entries_user_id_users_id_fk", "type": "f", "table": "job_time_entries", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "jobs_organization_id_organizations_id_fk", "type": "f", "table": "jobs", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "jobs_pkey", "type": "p", "table": "jobs", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "jobs_user_id_users_id_fk", "type": "f", "table": "jobs", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "kb_articles_category_id_kb_categories_id_fk", "type": "f", "table": "kb_articles", "schema": "public", "definition": "FOREIGN KEY (category_id) REFERENCES kb_categories(id) ON DELETE SET NULL"}, {"name": "kb_articles_organization_id_organizations_id_fk", "type": "f", "table": "kb_articles", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "kb_articles_pkey", "type": "p", "table": "kb_articles", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "kb_categories_organization_id_organizations_id_fk", "type": "f", "table": "kb_categories", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "kb_categories_parent_id_kb_categories_id_fk", "type": "f", "table": "kb_categories", "schema": "public", "definition": "FOREIGN KEY (parent_id) REFERENCES kb_categories(id) ON DELETE SET NULL"}, {"name": "kb_categories_pkey", "type": "p", "table": "kb_categories", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "notifications_organization_id_organizations_id_fk", "type": "f", "table": "notifications", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "notifications_pkey", "type": "p", "table": "notifications", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "notifications_user_id_users_id_fk", "type": "f", "table": "notifications", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "actual_close_date_required", "type": "c", "table": "opportunities", "schema": "public", "definition": "CHECK ((stage <> ALL (ARRAY['won'::opportunity_stage, 'lost'::opportunity_stage])) OR actual_close_date IS NOT NULL)"}, {"name": "opportunities_assigned_to_users_id_fk", "type": "f", "table": "opportunities", "schema": "public", "definition": "FOREIGN KEY (assigned_to) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "opportunities_contact_id_contacts_id_fk", "type": "f", "table": "opportunities", "schema": "public", "definition": "FOREIGN KEY (contact_id) REFERENCES contacts(id) ON DELETE SET NULL"}, {"name": "opportunities_customer_id_customers_id_fk", "type": "f", "table": "opportunities", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "opportunities_organization_id_organizations_id_fk", "type": "f", "table": "opportunities", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "opportunities_pkey", "type": "p", "table": "opportunities", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "opportunities_win_loss_reason_id_win_loss_reasons_id_fk", "type": "f", "table": "opportunities", "schema": "public", "definition": "FOREIGN KEY (win_loss_reason_id) REFERENCES win_loss_reasons(id) ON DELETE SET NULL"}, {"name": "probability_range", "type": "c", "table": "opportunities", "schema": "public", "definition": "CHECK (probability IS NULL OR probability >= 0::numeric AND probability <= 100::numeric)"}, {"name": "opportunity_activities_created_by_users_id_fk", "type": "f", "table": "opportunity_activities", "schema": "public", "definition": "FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "opportunity_activities_opportunity_id_opportunities_id_fk", "type": "f", "table": "opportunity_activities", "schema": "public", "definition": "FOREIGN KEY (opportunity_id) REFERENCES opportunities(id) ON DELETE CASCADE"}, {"name": "opportunity_activities_organization_id_organizations_id_fk", "type": "f", "table": "opportunity_activities", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "opportunity_activities_pkey", "type": "p", "table": "opportunity_activities", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "order_amendments_applied_by_users_id_fk", "type": "f", "table": "order_amendments", "schema": "public", "definition": "FOREIGN KEY (applied_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "order_amendments_order_id_orders_id_fk", "type": "f", "table": "order_amendments", "schema": "public", "definition": "FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE"}, {"name": "order_amendments_organization_id_organizations_id_fk", "type": "f", "table": "order_amendments", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "order_amendments_pkey", "type": "p", "table": "order_amendments", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "order_amendments_requested_by_users_id_fk", "type": "f", "table": "order_amendments", "schema": "public", "definition": "FOREIGN KEY (requested_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "order_amendments_reviewed_by_users_id_fk", "type": "f", "table": "order_amendments", "schema": "public", "definition": "FOREIGN KEY (reviewed_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "order_line_items_order_id_orders_id_fk", "type": "f", "table": "order_line_items", "schema": "public", "definition": "FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE"}, {"name": "order_line_items_organization_id_organizations_id_fk", "type": "f", "table": "order_line_items", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "order_line_items_picked_by_users_id_fk", "type": "f", "table": "order_line_items", "schema": "public", "definition": "FOREIGN KEY (picked_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "order_line_items_pkey", "type": "p", "table": "order_line_items", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "order_line_items_product_id_products_id_fk", "type": "f", "table": "order_line_items", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE SET NULL"}, {"name": "order_shipments_order_id_orders_id_fk", "type": "f", "table": "order_shipments", "schema": "public", "definition": "FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE"}, {"name": "order_shipments_organization_id_organizations_id_fk", "type": "f", "table": "order_shipments", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "order_shipments_pkey", "type": "p", "table": "order_shipments", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "order_shipments_shipped_by_users_id_fk", "type": "f", "table": "order_shipments", "schema": "public", "definition": "FOREIGN KEY (shipped_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "order_template_items_organization_id_organizations_id_fk", "type": "f", "table": "order_template_items", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "order_template_items_pkey", "type": "p", "table": "order_template_items", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "order_template_items_product_id_products_id_fk", "type": "f", "table": "order_template_items", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE SET NULL"}, {"name": "order_template_items_template_id_order_templates_id_fk", "type": "f", "table": "order_template_items", "schema": "public", "definition": "FOREIGN KEY (template_id) REFERENCES order_templates(id) ON DELETE CASCADE"}, {"name": "order_templates_default_customer_id_customers_id_fk", "type": "f", "table": "order_templates", "schema": "public", "definition": "FOREIGN KEY (default_customer_id) REFERENCES customers(id) ON DELETE SET NULL"}, {"name": "order_templates_organization_id_organizations_id_fk", "type": "f", "table": "order_templates", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "order_templates_pkey", "type": "p", "table": "order_templates", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "orders_customer_id_customers_id_fk", "type": "f", "table": "orders", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE RESTRICT"}, {"name": "orders_organization_id_organizations_id_fk", "type": "f", "table": "orders", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "orders_pkey", "type": "p", "table": "orders", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "organization_holidays_organization_id_organizations_id_fk", "type": "f", "table": "organization_holidays", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "organization_holidays_pkey", "type": "p", "table": "organization_holidays", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "organizations_pkey", "type": "p", "table": "organizations", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "payment_reminder_settings_default_template_id_reminder_template", "type": "f", "table": "payment_reminder_settings", "schema": "public", "definition": "FOREIGN KEY (default_template_id) REFERENCES reminder_templates(id) ON DELETE SET NULL"}, {"name": "payment_reminder_settings_organization_id_organizations_id_fk", "type": "f", "table": "payment_reminder_settings", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "payment_reminder_settings_pkey", "type": "p", "table": "payment_reminder_settings", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "payment_schedules_order_id_orders_id_fk", "type": "f", "table": "payment_schedules", "schema": "public", "definition": "FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE"}, {"name": "payment_schedules_organization_id_organizations_id_fk", "type": "f", "table": "payment_schedules", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "payment_schedules_pkey", "type": "p", "table": "payment_schedules", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "portal_identities_contact_id_contacts_id_fk", "type": "f", "table": "portal_identities", "schema": "public", "definition": "FOREIGN KEY (contact_id) REFERENCES contacts(id) ON DELETE SET NULL"}, {"name": "portal_identities_customer_id_customers_id_fk", "type": "f", "table": "portal_identities", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE SET NULL"}, {"name": "portal_identities_customer_scope_check", "type": "c", "table": "portal_identities", "schema": "public", "definition": "CHECK (scope <> 'customer'::portal_scope OR customer_id IS NOT NULL AND job_assignment_id IS NULL)"}, {"name": "portal_identities_job_assignment_id_job_assignments_id_fk", "type": "f", "table": "portal_identities", "schema": "public", "definition": "FOREIGN KEY (job_assignment_id) REFERENCES job_assignments(id) ON DELETE SET NULL"}, {"name": "portal_identities_organization_id_organizations_id_fk", "type": "f", "table": "portal_identities", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "portal_identities_pkey", "type": "p", "table": "portal_identities", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "portal_identities_subcontractor_scope_check", "type": "c", "table": "portal_identities", "schema": "public", "definition": "CHECK (scope <> 'subcontractor'::portal_scope OR job_assignment_id IS NOT NULL)"}, {"name": "price_agreements_approval_consistency", "type": "c", "table": "price_agreements", "schema": "public", "definition": "CHECK (approved_at IS NULL AND approved_by IS NULL OR approved_at IS NOT NULL AND approved_by IS NOT NULL)"}, {"name": "price_agreements_approved_by_users_id_fk", "type": "f", "table": "price_agreements", "schema": "public", "definition": "FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "price_agreements_created_by_users_id_fk", "type": "f", "table": "price_agreements", "schema": "public", "definition": "FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE RESTRICT"}, {"name": "price_agreements_date_range", "type": "c", "table": "price_agreements", "schema": "public", "definition": "CHECK (expiry_date IS NULL OR expiry_date > effective_date)"}, {"name": "price_agreements_discount_range", "type": "c", "table": "price_agreements", "schema": "public", "definition": "CHECK (discount_percent IS NULL OR discount_percent >= 0 AND discount_percent <= 100)"}, {"name": "price_agreements_organization_id_organizations_id_fk", "type": "f", "table": "price_agreements", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "price_agreements_pkey", "type": "p", "table": "price_agreements", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "price_agreements_rejected_by_users_id_fk", "type": "f", "table": "price_agreements", "schema": "public", "definition": "FOREIGN KEY (rejected_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "price_agreements_rejection_consistency", "type": "c", "table": "price_agreements", "schema": "public", "definition": "CHECK (rejected_at IS NULL AND rejected_by IS NULL OR rejected_at IS NOT NULL AND rejected_by IS NOT NULL)"}, {"name": "price_agreements_supplier_id_suppliers_id_fk", "type": "f", "table": "price_agreements", "schema": "public", "definition": "FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE RESTRICT"}, {"name": "price_agreements_total_items_non_negative", "type": "c", "table": "price_agreements", "schema": "public", "definition": "CHECK (total_items >= 0)"}, {"name": "price_change_history_agreement_id_price_agreements_id_fk", "type": "f", "table": "price_change_history", "schema": "public", "definition": "FOREIGN KEY (agreement_id) REFERENCES price_agreements(id) ON DELETE SET NULL"}, {"name": "price_change_history_application_consistency", "type": "c", "table": "price_change_history", "schema": "public", "definition": "CHECK (applied_at IS NULL AND applied_by IS NULL OR applied_at IS NOT NULL AND applied_by IS NOT NULL)"}, {"name": "price_change_history_applied_by_users_id_fk", "type": "f", "table": "price_change_history", "schema": "public", "definition": "FOREIGN KEY (applied_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "price_change_history_approval_consistency", "type": "c", "table": "price_change_history", "schema": "public", "definition": "CHECK (approved_at IS NULL AND approved_by IS NULL OR approved_at IS NOT NULL AND approved_by IS NOT NULL)"}, {"name": "price_change_history_approved_by_users_id_fk", "type": "f", "table": "price_change_history", "schema": "public", "definition": "FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "price_change_history_organization_id_organizations_id_fk", "type": "f", "table": "price_change_history", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "price_change_history_pkey", "type": "p", "table": "price_change_history", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "price_change_history_price_list_id_supplier_price_lists_id_fk", "type": "f", "table": "price_change_history", "schema": "public", "definition": "FOREIGN KEY (price_list_id) REFERENCES supplier_price_lists(id) ON DELETE SET NULL"}, {"name": "price_change_history_rejected_by_users_id_fk", "type": "f", "table": "price_change_history", "schema": "public", "definition": "FOREIGN KEY (rejected_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "price_change_history_rejection_consistency", "type": "c", "table": "price_change_history", "schema": "public", "definition": "CHECK (rejected_at IS NULL AND rejected_by IS NULL OR rejected_at IS NOT NULL AND rejected_by IS NOT NULL)"}, {"name": "price_change_history_requested_by_users_id_fk", "type": "f", "table": "price_change_history", "schema": "public", "definition": "FOREIGN KEY (requested_by) REFERENCES users(id) ON DELETE RESTRICT"}, {"name": "price_change_history_supplier_id_suppliers_id_fk", "type": "f", "table": "price_change_history", "schema": "public", "definition": "FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE SET NULL"}, {"name": "price_history_organization_id_organizations_id_fk", "type": "f", "table": "price_history", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "price_history_pkey", "type": "p", "table": "price_history", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "price_history_product_id_products_id_fk", "type": "f", "table": "price_history", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "product_attribute_values_attribute_id_product_attributes_id_fk", "type": "f", "table": "product_attribute_values", "schema": "public", "definition": "FOREIGN KEY (attribute_id) REFERENCES product_attributes(id) ON DELETE CASCADE"}, {"name": "product_attribute_values_organization_id_organizations_id_fk", "type": "f", "table": "product_attribute_values", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "product_attribute_values_pkey", "type": "p", "table": "product_attribute_values", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "product_attribute_values_product_id_products_id_fk", "type": "f", "table": "product_attribute_values", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "product_attributes_organization_id_organizations_id_fk", "type": "f", "table": "product_attributes", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "product_attributes_pkey", "type": "p", "table": "product_attributes", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "bundle_not_self_reference", "type": "c", "table": "product_bundles", "schema": "public", "definition": "CHECK (bundle_product_id <> component_product_id)"}, {"name": "bundle_quantity_positive", "type": "c", "table": "product_bundles", "schema": "public", "definition": "CHECK (quantity > 0)"}, {"name": "product_bundles_bundle_product_id_products_id_fk", "type": "f", "table": "product_bundles", "schema": "public", "definition": "FOREIGN KEY (bundle_product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "product_bundles_component_product_id_products_id_fk", "type": "f", "table": "product_bundles", "schema": "public", "definition": "FOREIGN KEY (component_product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "product_bundles_organization_id_organizations_id_fk", "type": "f", "table": "product_bundles", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "product_bundles_pkey", "type": "p", "table": "product_bundles", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "image_file_size_positive", "type": "c", "table": "product_images", "schema": "public", "definition": "CHECK (file_size IS NULL OR file_size >= 0)"}, {"name": "product_images_organization_id_organizations_id_fk", "type": "f", "table": "product_images", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "product_images_pkey", "type": "p", "table": "product_images", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "product_images_product_id_products_id_fk", "type": "f", "table": "product_images", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "price_tier_discount_range", "type": "c", "table": "product_price_tiers", "schema": "public", "definition": "CHECK (discount_percent IS NULL OR discount_percent >= 0::numeric AND discount_percent <= 100::numeric)"}, {"name": "price_tier_max_qty_valid", "type": "c", "table": "product_price_tiers", "schema": "public", "definition": "CHECK (max_quantity IS NULL OR max_quantity > min_quantity)"}, {"name": "price_tier_min_qty_positive", "type": "c", "table": "product_price_tiers", "schema": "public", "definition": "CHECK (min_quantity > 0)"}, {"name": "price_tier_price_non_negative", "type": "c", "table": "product_price_tiers", "schema": "public", "definition": "CHECK (price >= 0::numeric)"}, {"name": "product_price_tiers_organization_id_organizations_id_fk", "type": "f", "table": "product_price_tiers", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "product_price_tiers_pkey", "type": "p", "table": "product_price_tiers", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "product_price_tiers_product_id_products_id_fk", "type": "f", "table": "product_price_tiers", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "product_not_self_relation", "type": "c", "table": "product_relations", "schema": "public", "definition": "CHECK (product_id <> related_product_id)"}, {"name": "product_relations_organization_id_organizations_id_fk", "type": "f", "table": "product_relations", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "product_relations_pkey", "type": "p", "table": "product_relations", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "product_relations_product_id_products_id_fk", "type": "f", "table": "product_relations", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "product_relations_related_product_id_products_id_fk", "type": "f", "table": "product_relations", "schema": "public", "definition": "FOREIGN KEY (related_product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "product_base_price_non_negative", "type": "c", "table": "products", "schema": "public", "definition": "CHECK (base_price >= 0::numeric)"}, {"name": "product_cost_price_non_negative", "type": "c", "table": "products", "schema": "public", "definition": "CHECK (cost_price IS NULL OR cost_price >= 0::numeric)"}, {"name": "products_category_id_categories_id_fk", "type": "f", "table": "products", "schema": "public", "definition": "FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE SET NULL"}, {"name": "products_organization_id_organizations_id_fk", "type": "f", "table": "products", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "products_pkey", "type": "p", "table": "products", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "products_warranty_policy_id_warranty_policies_id_fk", "type": "f", "table": "products", "schema": "public", "definition": "FOREIGN KEY (warranty_policy_id) REFERENCES warranty_policies(id) ON DELETE SET NULL"}, {"name": "purchase_order_amendments_applied_by_users_id_fk", "type": "f", "table": "purchase_order_amendments", "schema": "public", "definition": "FOREIGN KEY (applied_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "purchase_order_amendments_applied_status", "type": "c", "table": "purchase_order_amendments", "schema": "public", "definition": "CHECK (status = 'applied'::amendment_status AND applied_at IS NOT NULL AND applied_by IS NOT NULL OR status <> 'applied'::amendment_status AND applied_at IS NULL AND applied_by IS NULL)"}, {"name": "purchase_order_amendments_approved_by_users_id_fk", "type": "f", "table": "purchase_order_amendments", "schema": "public", "definition": "FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "purchase_order_amendments_approved_status", "type": "c", "table": "purchase_order_amendments", "schema": "public", "definition": "CHECK (status = 'approved'::amendment_status AND approved_at IS NOT NULL AND approved_by IS NOT NULL OR status <> 'approved'::amendment_status AND approved_at IS NULL AND approved_by IS NULL)"}, {"name": "purchase_order_amendments_number_positive", "type": "c", "table": "purchase_order_amendments", "schema": "public", "definition": "CHECK (amendment_number > 0)"}, {"name": "purchase_order_amendments_organization_id_organizations_id_fk", "type": "f", "table": "purchase_order_amendments", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "purchase_order_amendments_pkey", "type": "p", "table": "purchase_order_amendments", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "purchase_order_amendments_purchase_order_id_purchase_orders_id_", "type": "f", "table": "purchase_order_amendments", "schema": "public", "definition": "FOREIGN KEY (purchase_order_id) REFERENCES purchase_orders(id) ON DELETE RESTRICT"}, {"name": "purchase_order_amendments_rejected_by_users_id_fk", "type": "f", "table": "purchase_order_amendments", "schema": "public", "definition": "FOREIGN KEY (rejected_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "purchase_order_amendments_rejected_status", "type": "c", "table": "purchase_order_amendments", "schema": "public", "definition": "CHECK (status = 'rejected'::amendment_status AND rejected_at IS NOT NULL AND rejected_by IS NOT NULL OR status <> 'rejected'::amendment_status AND rejected_at IS NULL AND rejected_by IS NULL)"}, {"name": "purchase_order_amendments_requested_by_users_id_fk", "type": "f", "table": "purchase_order_amendments", "schema": "public", "definition": "FOREIGN KEY (requested_by) REFERENCES users(id) ON DELETE RESTRICT"}, {"name": "purchase_order_approval_rules_amount_range", "type": "c", "table": "purchase_order_approval_rules", "schema": "public", "definition": "CHECK (min_amount IS NULL OR max_amount IS NULL OR max_amount >= min_amount)"}, {"name": "purchase_order_approval_rules_escalation_hours_positive", "type": "c", "table": "purchase_order_approval_rules", "schema": "public", "definition": "CHECK (escalation_hours IS NULL OR escalation_hours > 0)"}, {"name": "purchase_order_approval_rules_organization_id_organizations_id_", "type": "f", "table": "purchase_order_approval_rules", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "purchase_order_approval_rules_pkey", "type": "p", "table": "purchase_order_approval_rules", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "purchase_order_approval_rules_priority_non_negative", "type": "c", "table": "purchase_order_approval_rules", "schema": "public", "definition": "CHECK (priority >= 0)"}, {"name": "purchase_order_approvals_approved_status", "type": "c", "table": "purchase_order_approvals", "schema": "public", "definition": "CHECK (status = 'approved'::approval_status AND approved_at IS NOT NULL OR status <> 'approved'::approval_status AND approved_at IS NULL)"}, {"name": "purchase_order_approvals_approver_id_users_id_fk", "type": "f", "table": "purchase_order_approvals", "schema": "public", "definition": "FOREIGN KEY (approver_id) REFERENCES users(id) ON DELETE RESTRICT"}, {"name": "purchase_order_approvals_delegated_from_users_id_fk", "type": "f", "table": "purchase_order_approvals", "schema": "public", "definition": "FOREIGN KEY (delegated_from) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "purchase_order_approvals_escalated_consistency", "type": "c", "table": "purchase_order_approvals", "schema": "public", "definition": "CHECK (escalated_to IS NULL AND escalated_at IS NULL OR escalated_to IS NOT NULL AND escalated_at IS NOT NULL)"}, {"name": "purchase_order_approvals_escalated_to_users_id_fk", "type": "f", "table": "purchase_order_approvals", "schema": "public", "definition": "FOREIGN KEY (escalated_to) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "purchase_order_approvals_level_positive", "type": "c", "table": "purchase_order_approvals", "schema": "public", "definition": "CHECK (level > 0)"}, {"name": "purchase_order_approvals_organization_id_organizations_id_fk", "type": "f", "table": "purchase_order_approvals", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "purchase_order_approvals_pkey", "type": "p", "table": "purchase_order_approvals", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "purchase_order_approvals_purchase_order_id_purchase_orders_id_f", "type": "f", "table": "purchase_order_approvals", "schema": "public", "definition": "FOREIGN KEY (purchase_order_id) REFERENCES purchase_orders(id) ON DELETE CASCADE"}, {"name": "purchase_order_approvals_rejected_status", "type": "c", "table": "purchase_order_approvals", "schema": "public", "definition": "CHECK (status = 'rejected'::approval_status AND rejected_at IS NOT NULL OR status <> 'rejected'::approval_status AND rejected_at IS NULL)"}, {"name": "purchase_order_costs_amount_non_negative", "type": "c", "table": "purchase_order_costs", "schema": "public", "definition": "CHECK (amount >= 0::numeric)"}, {"name": "purchase_order_costs_organization_id_organizations_id_fk", "type": "f", "table": "purchase_order_costs", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "purchase_order_costs_pkey", "type": "p", "table": "purchase_order_costs", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "purchase_order_costs_purchase_order_id_purchase_orders_id_fk", "type": "f", "table": "purchase_order_costs", "schema": "public", "definition": "FOREIGN KEY (purchase_order_id) REFERENCES purchase_orders(id) ON DELETE CASCADE"}, {"name": "purchase_order_items_discount_range", "type": "c", "table": "purchase_order_items", "schema": "public", "definition": "CHECK (discount_percent >= 0 AND discount_percent <= 100)"}, {"name": "purchase_order_items_line_total_calc", "type": "c", "table": "purchase_order_items", "schema": "public", "definition": "CHECK (line_total = (quantity::numeric * unit_price))"}, {"name": "purchase_order_items_organization_id_organizations_id_fk", "type": "f", "table": "purchase_order_items", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "purchase_order_items_pending_calc", "type": "c", "table": "purchase_order_items", "schema": "public", "definition": "CHECK (quantity_pending = (quantity - quantity_received))"}, {"name": "purchase_order_items_pkey", "type": "p", "table": "purchase_order_items", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "purchase_order_items_product_id_products_id_fk", "type": "f", "table": "purchase_order_items", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE SET NULL"}, {"name": "purchase_order_items_purchase_order_id_purchase_orders_id_fk", "type": "f", "table": "purchase_order_items", "schema": "public", "definition": "FOREIGN KEY (purchase_order_id) REFERENCES purchase_orders(id) ON DELETE CASCADE"}, {"name": "purchase_order_items_quantity_positive", "type": "c", "table": "purchase_order_items", "schema": "public", "definition": "CHECK (quantity > 0)"}, {"name": "purchase_order_items_received_max", "type": "c", "table": "purchase_order_items", "schema": "public", "definition": "CHECK (quantity_received <= quantity)"}, {"name": "purchase_order_items_rejected_max", "type": "c", "table": "purchase_order_items", "schema": "public", "definition": "CHECK (quantity_rejected <= quantity_received)"}, {"name": "purchase_order_items_tax_rate_range", "type": "c", "table": "purchase_order_items", "schema": "public", "definition": "CHECK (tax_rate >= 0 AND tax_rate <= 100)"}, {"name": "purchase_order_items_unit_price_non_negative", "type": "c", "table": "purchase_order_items", "schema": "public", "definition": "CHECK (unit_price >= 0::numeric)"}, {"name": "purchase_order_receipt_items_organization_id_organizations_id_f", "type": "f", "table": "purchase_order_receipt_items", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "purchase_order_receipt_items_pkey", "type": "p", "table": "purchase_order_receipt_items", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "purchase_order_receipt_items_purchase_order_item_id_purchase_or", "type": "f", "table": "purchase_order_receipt_items", "schema": "public", "definition": "FOREIGN KEY (purchase_order_item_id) REFERENCES purchase_order_items(id) ON DELETE RESTRICT"}, {"name": "purchase_order_receipt_items_qty_accepted_non_negative", "type": "c", "table": "purchase_order_receipt_items", "schema": "public", "definition": "CHECK (quantity_accepted >= 0)"}, {"name": "purchase_order_receipt_items_qty_balance", "type": "c", "table": "purchase_order_receipt_items", "schema": "public", "definition": "CHECK ((quantity_accepted + quantity_rejected) = quantity_received)"}, {"name": "purchase_order_receipt_items_qty_expected_non_negative", "type": "c", "table": "purchase_order_receipt_items", "schema": "public", "definition": "CHECK (quantity_expected >= 0)"}, {"name": "purchase_order_receipt_items_qty_received_non_negative", "type": "c", "table": "purchase_order_receipt_items", "schema": "public", "definition": "CHECK (quantity_received >= 0)"}, {"name": "purchase_order_receipt_items_qty_rejected_non_negative", "type": "c", "table": "purchase_order_receipt_items", "schema": "public", "definition": "CHECK (quantity_rejected >= 0)"}, {"name": "purchase_order_receipt_items_receipt_id_purchase_order_receipts", "type": "f", "table": "purchase_order_receipt_items", "schema": "public", "definition": "FOREIGN KEY (receipt_id) REFERENCES purchase_order_receipts(id) ON DELETE CASCADE"}, {"name": "purchase_order_receipt_items_rejection_reason", "type": "c", "table": "purchase_order_receipt_items", "schema": "public", "definition": "CHECK (quantity_rejected = 0 OR rejection_reason IS NOT NULL)"}, {"name": "purchase_order_receipts_inspection_completed_by_users_id_fk", "type": "f", "table": "purchase_order_receipts", "schema": "public", "definition": "FOREIGN KEY (inspection_completed_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "purchase_order_receipts_inspection_consistency", "type": "c", "table": "purchase_order_receipts", "schema": "public", "definition": "CHECK (inspection_completed_at IS NULL AND inspection_completed_by IS NULL OR inspection_completed_at IS NOT NULL AND inspection_completed_by IS NOT NULL)"}, {"name": "purchase_order_receipts_items_accepted_non_negative", "type": "c", "table": "purchase_order_receipts", "schema": "public", "definition": "CHECK (total_items_accepted >= 0)"}, {"name": "purchase_order_receipts_items_balance", "type": "c", "table": "purchase_order_receipts", "schema": "public", "definition": "CHECK ((total_items_accepted + total_items_rejected) <= total_items_received)"}, {"name": "purchase_order_receipts_items_expected_non_negative", "type": "c", "table": "purchase_order_receipts", "schema": "public", "definition": "CHECK (total_items_expected >= 0)"}, {"name": "purchase_order_receipts_items_received_non_negative", "type": "c", "table": "purchase_order_receipts", "schema": "public", "definition": "CHECK (total_items_received >= 0)"}, {"name": "purchase_order_receipts_items_rejected_non_negative", "type": "c", "table": "purchase_order_receipts", "schema": "public", "definition": "CHECK (total_items_rejected >= 0)"}, {"name": "purchase_order_receipts_organization_id_organizations_id_fk", "type": "f", "table": "purchase_order_receipts", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "purchase_order_receipts_pkey", "type": "p", "table": "purchase_order_receipts", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "purchase_order_receipts_purchase_order_id_purchase_orders_id_fk", "type": "f", "table": "purchase_order_receipts", "schema": "public", "definition": "FOREIGN KEY (purchase_order_id) REFERENCES purchase_orders(id) ON DELETE RESTRICT"}, {"name": "purchase_order_receipts_received_by_users_id_fk", "type": "f", "table": "purchase_order_receipts", "schema": "public", "definition": "FOREIGN KEY (received_by) REFERENCES users(id) ON DELETE RESTRICT"}, {"name": "purchase_orders_approved_by_users_id_fk", "type": "f", "table": "purchase_orders", "schema": "public", "definition": "FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "purchase_orders_approved_status", "type": "c", "table": "purchase_orders", "schema": "public", "definition": "CHECK (approved_at IS NULL AND approved_by IS NULL OR approved_at IS NOT NULL AND approved_by IS NOT NULL)"}, {"name": "purchase_orders_closed_by_users_id_fk", "type": "f", "table": "purchase_orders", "schema": "public", "definition": "FOREIGN KEY (closed_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "purchase_orders_closed_status", "type": "c", "table": "purchase_orders", "schema": "public", "definition": "CHECK (closed_at IS NULL AND closed_by IS NULL OR closed_at IS NOT NULL AND closed_by IS NOT NULL)"}, {"name": "purchase_orders_date_order", "type": "c", "table": "purchase_orders", "schema": "public", "definition": "CHECK (required_date IS NULL OR required_date >= order_date)"}, {"name": "purchase_orders_ordered_by_users_id_fk", "type": "f", "table": "purchase_orders", "schema": "public", "definition": "FOREIGN KEY (ordered_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "purchase_orders_organization_id_organizations_id_fk", "type": "f", "table": "purchase_orders", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "purchase_orders_pkey", "type": "p", "table": "purchase_orders", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "purchase_orders_supplier_id_suppliers_id_fk", "type": "f", "table": "purchase_orders", "schema": "public", "definition": "FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE RESTRICT"}, {"name": "purchase_orders_total_calc", "type": "c", "table": "purchase_orders", "schema": "public", "definition": "CHECK (total_amount = (subtotal + tax_amount + shipping_amount - discount_amount))"}, {"name": "quote_versions_opportunity_id_opportunities_id_fk", "type": "f", "table": "quote_versions", "schema": "public", "definition": "FOREIGN KEY (opportunity_id) REFERENCES opportunities(id) ON DELETE CASCADE"}, {"name": "quote_versions_organization_id_organizations_id_fk", "type": "f", "table": "quote_versions", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "quote_versions_pkey", "type": "p", "table": "quote_versions", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "subtotal_non_negative", "type": "c", "table": "quote_versions", "schema": "public", "definition": "CHECK (subtotal >= 0::numeric)"}, {"name": "tax_amount_non_negative", "type": "c", "table": "quote_versions", "schema": "public", "definition": "CHECK (tax_amount >= 0::numeric)"}, {"name": "total_non_negative", "type": "c", "table": "quote_versions", "schema": "public", "definition": "CHECK (total >= 0::numeric)"}, {"name": "version_number_positive", "type": "c", "table": "quote_versions", "schema": "public", "definition": "CHECK (version_number > 0)"}, {"name": "quotes_customer_id_customers_id_fk", "type": "f", "table": "quotes", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "quotes_opportunity_id_opportunities_id_fk", "type": "f", "table": "quotes", "schema": "public", "definition": "FOREIGN KEY (opportunity_id) REFERENCES opportunities(id) ON DELETE SET NULL"}, {"name": "quotes_organization_id_organizations_id_fk", "type": "f", "table": "quotes", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "quotes_pkey", "type": "p", "table": "quotes", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "recent_items_entity_type_check", "type": "c", "table": "recent_items", "schema": "public", "definition": "CHECK (entity_type = ANY (ARRAY['customer'::text, 'contact'::text, 'order'::text, 'opportunity'::text, 'product'::text, 'inventory'::text, 'supplier'::text, 'warranty'::text, 'issue'::text, 'user'::text, 'email'::text, 'call'::text, 'job'::text, 'job_assignment'::text, 'warranty_claim'::text, 'quote'::text, 'shipment'::text]))"}, {"name": "recent_items_organization_id_organizations_id_fk", "type": "f", "table": "recent_items", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "recent_items_pkey", "type": "p", "table": "recent_items", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "recent_items_user_id_users_id_fk", "type": "f", "table": "recent_items", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "reminder_history_order_id_orders_id_fk", "type": "f", "table": "reminder_history", "schema": "public", "definition": "FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE"}, {"name": "reminder_history_organization_id_organizations_id_fk", "type": "f", "table": "reminder_history", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "reminder_history_pkey", "type": "p", "table": "reminder_history", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "reminder_history_template_id_reminder_templates_id_fk", "type": "f", "table": "reminder_history", "schema": "public", "definition": "FOREIGN KEY (template_id) REFERENCES reminder_templates(id) ON DELETE SET NULL"}, {"name": "reminder_templates_organization_id_organizations_id_fk", "type": "f", "table": "reminder_templates", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "reminder_templates_pkey", "type": "p", "table": "reminder_templates", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "report_favorites_organization_id_organizations_id_fk", "type": "f", "table": "report_favorites", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "report_favorites_pkey", "type": "p", "table": "report_favorites", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "report_favorites_user_id_users_id_fk", "type": "f", "table": "report_favorites", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "return_authorizations_approved_by_users_id_fk", "type": "f", "table": "return_authorizations", "schema": "public", "definition": "FOREIGN KEY (approved_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "return_authorizations_customer_id_customers_id_fk", "type": "f", "table": "return_authorizations", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE SET NULL"}, {"name": "return_authorizations_issue_id_issues_id_fk", "type": "f", "table": "return_authorizations", "schema": "public", "definition": "FOREIGN KEY (issue_id) REFERENCES issues(id) ON DELETE SET NULL"}, {"name": "return_authorizations_order_id_orders_id_fk", "type": "f", "table": "return_authorizations", "schema": "public", "definition": "FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE SET NULL"}, {"name": "return_authorizations_organization_id_organizations_id_fk", "type": "f", "table": "return_authorizations", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "return_authorizations_pkey", "type": "p", "table": "return_authorizations", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "return_authorizations_processed_by_users_id_fk", "type": "f", "table": "return_authorizations", "schema": "public", "definition": "FOREIGN KEY (processed_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "return_authorizations_received_by_users_id_fk", "type": "f", "table": "return_authorizations", "schema": "public", "definition": "FOREIGN KEY (received_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "return_authorizations_rejected_by_users_id_fk", "type": "f", "table": "return_authorizations", "schema": "public", "definition": "FOREIGN KEY (rejected_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "revenue_recognition_order_id_orders_id_fk", "type": "f", "table": "revenue_recognition", "schema": "public", "definition": "FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE"}, {"name": "revenue_recognition_organization_id_organizations_id_fk", "type": "f", "table": "revenue_recognition", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "revenue_recognition_pkey", "type": "p", "table": "revenue_recognition", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "rma_line_items_order_line_item_id_order_line_items_id_fk", "type": "f", "table": "rma_line_items", "schema": "public", "definition": "FOREIGN KEY (order_line_item_id) REFERENCES order_line_items(id) ON DELETE RESTRICT"}, {"name": "rma_line_items_pkey", "type": "p", "table": "rma_line_items", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "rma_line_items_rma_id_return_authorizations_id_fk", "type": "f", "table": "rma_line_items", "schema": "public", "definition": "FOREIGN KEY (rma_id) REFERENCES return_authorizations(id) ON DELETE CASCADE"}, {"name": "scheduled_calls_assignee_id_users_id_fk", "type": "f", "table": "scheduled_calls", "schema": "public", "definition": "FOREIGN KEY (assignee_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "scheduled_calls_customer_id_customers_id_fk", "type": "f", "table": "scheduled_calls", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "scheduled_calls_organization_id_organizations_id_fk", "type": "f", "table": "scheduled_calls", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "scheduled_calls_pkey", "type": "p", "table": "scheduled_calls", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "scheduled_emails_customer_id_customers_id_fk", "type": "f", "table": "scheduled_emails", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE SET NULL"}, {"name": "scheduled_emails_organization_id_organizations_id_fk", "type": "f", "table": "scheduled_emails", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "scheduled_emails_pkey", "type": "p", "table": "scheduled_emails", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "scheduled_emails_user_id_users_id_fk", "type": "f", "table": "scheduled_emails", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "scheduled_reports_organization_id_organizations_id_fk", "type": "f", "table": "scheduled_reports", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "scheduled_reports_pkey", "type": "p", "table": "scheduled_reports", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "search_index_entity_type_check", "type": "c", "table": "search_index", "schema": "public", "definition": "CHECK (entity_type = ANY (ARRAY['customer'::text, 'contact'::text, 'order'::text, 'opportunity'::text, 'product'::text, 'inventory'::text, 'supplier'::text, 'warranty'::text, 'issue'::text, 'user'::text, 'email'::text, 'call'::text, 'job'::text, 'job_assignment'::text, 'warranty_claim'::text, 'quote'::text, 'shipment'::text]))"}, {"name": "search_index_organization_id_organizations_id_fk", "type": "f", "table": "search_index", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "search_index_pkey", "type": "p", "table": "search_index", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "search_index_outbox_organization_id_organizations_id_fk", "type": "f", "table": "search_index_outbox", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "search_index_outbox_pkey", "type": "p", "table": "search_index_outbox", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "search_outbox_action_check", "type": "c", "table": "search_index_outbox", "schema": "public", "definition": "CHECK (action = ANY (ARRAY['upsert'::text, 'delete'::text]))"}, {"name": "search_outbox_entity_type_check", "type": "c", "table": "search_index_outbox", "schema": "public", "definition": "CHECK (entity_type = ANY (ARRAY['customer'::text, 'contact'::text, 'order'::text, 'opportunity'::text, 'product'::text, 'inventory'::text, 'supplier'::text, 'warranty'::text, 'issue'::text, 'user'::text, 'email'::text, 'call'::text, 'job'::text, 'job_assignment'::text, 'warranty_claim'::text, 'quote'::text, 'shipment'::text]))"}, {"name": "search_outbox_status_check", "type": "c", "table": "search_index_outbox", "schema": "public", "definition": "CHECK (status = ANY (ARRAY['pending'::text, 'processing'::text, 'failed'::text, 'completed'::text]))"}, {"name": "shipment_items_order_line_item_id_order_line_items_id_fk", "type": "f", "table": "shipment_items", "schema": "public", "definition": "FOREIGN KEY (order_line_item_id) REFERENCES order_line_items(id) ON DELETE CASCADE"}, {"name": "shipment_items_organization_id_organizations_id_fk", "type": "f", "table": "shipment_items", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "shipment_items_pkey", "type": "p", "table": "shipment_items", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "shipment_items_shipment_id_order_shipments_id_fk", "type": "f", "table": "shipment_items", "schema": "public", "definition": "FOREIGN KEY (shipment_id) REFERENCES order_shipments(id) ON DELETE CASCADE"}, {"name": "sla_configurations_organization_id_organizations_id_fk", "type": "f", "table": "sla_configurations", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "sla_configurations_pkey", "type": "p", "table": "sla_configurations", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "sla_events_organization_id_organizations_id_fk", "type": "f", "table": "sla_events", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "sla_events_pkey", "type": "p", "table": "sla_events", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "sla_tracking_entity_type_check", "type": "c", "table": "sla_tracking", "schema": "public", "definition": "CHECK (entity_type = ANY (ARRAY['issue'::text, 'warranty_claim'::text, 'job_assignment'::text]))"}, {"name": "sla_tracking_organization_id_organizations_id_fk", "type": "f", "table": "sla_tracking", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "sla_tracking_pkey", "type": "p", "table": "sla_tracking", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "statement_history_customer_id_customers_id_fk", "type": "f", "table": "statement_history", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "statement_history_organization_id_organizations_id_fk", "type": "f", "table": "statement_history", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "statement_history_pkey", "type": "p", "table": "statement_history", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "stock_count_items_inventory_id_inventory_id_fk", "type": "f", "table": "stock_count_items", "schema": "public", "definition": "FOREIGN KEY (inventory_id) REFERENCES inventory(id) ON DELETE RESTRICT"}, {"name": "stock_count_items_pkey", "type": "p", "table": "stock_count_items", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "stock_count_items_stock_count_id_stock_counts_id_fk", "type": "f", "table": "stock_count_items", "schema": "public", "definition": "FOREIGN KEY (stock_count_id) REFERENCES stock_counts(id) ON DELETE CASCADE"}, {"name": "stock_counts_location_id_warehouse_locations_id_fk", "type": "f", "table": "stock_counts", "schema": "public", "definition": "FOREIGN KEY (location_id) REFERENCES warehouse_locations(id)"}, {"name": "stock_counts_organization_id_organizations_id_fk", "type": "f", "table": "stock_counts", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "stock_counts_pkey", "type": "p", "table": "stock_counts", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "supplier_metrics_defect_rate_range", "type": "c", "table": "supplier_performance_metrics", "schema": "public", "definition": "CHECK (defect_rate IS NULL OR defect_rate >= 0::numeric AND defect_rate <= 100::numeric)"}, {"name": "supplier_metrics_delivery_score_range", "type": "c", "table": "supplier_performance_metrics", "schema": "public", "definition": "CHECK (delivery_score IS NULL OR delivery_score >= 0::numeric AND delivery_score <= 100::numeric)"}, {"name": "supplier_metrics_overall_score_range", "type": "c", "table": "supplier_performance_metrics", "schema": "public", "definition": "CHECK (overall_score IS NULL OR overall_score >= 0::numeric AND overall_score <= 100::numeric)"}, {"name": "supplier_metrics_quality_score_range", "type": "c", "table": "supplier_performance_metrics", "schema": "public", "definition": "CHECK (quality_score IS NULL OR quality_score >= 0::numeric AND quality_score <= 100::numeric)"}, {"name": "supplier_performance_metrics_organization_id_organizations_id_f", "type": "f", "table": "supplier_performance_metrics", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "supplier_performance_metrics_pkey", "type": "p", "table": "supplier_performance_metrics", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "supplier_performance_metrics_supplier_id_suppliers_id_fk", "type": "f", "table": "supplier_performance_metrics", "schema": "public", "definition": "FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE CASCADE"}, {"name": "supplier_price_history_organization_id_organizations_id_fk", "type": "f", "table": "supplier_price_history", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "supplier_price_history_pkey", "type": "p", "table": "supplier_price_history", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "supplier_price_history_price_list_id_supplier_price_lists_id_fk", "type": "f", "table": "supplier_price_history", "schema": "public", "definition": "FOREIGN KEY (price_list_id) REFERENCES supplier_price_lists(id) ON DELETE SET NULL"}, {"name": "supplier_price_history_product_id_products_id_fk", "type": "f", "table": "supplier_price_history", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "supplier_price_history_supplier_id_suppliers_id_fk", "type": "f", "table": "supplier_price_history", "schema": "public", "definition": "FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE CASCADE"}, {"name": "supplier_price_lists_date_range", "type": "c", "table": "supplier_price_lists", "schema": "public", "definition": "CHECK (expiry_date IS NULL OR expiry_date > effective_date)"}, {"name": "supplier_price_lists_discount_range", "type": "c", "table": "supplier_price_lists", "schema": "public", "definition": "CHECK (discount_percent IS NULL OR discount_percent >= 0::numeric AND discount_percent <= 100::numeric)"}, {"name": "supplier_price_lists_lead_time_non_negative", "type": "c", "table": "supplier_price_lists", "schema": "public", "definition": "CHECK (lead_time_days IS NULL OR lead_time_days >= 0)"}, {"name": "supplier_price_lists_min_quantity_positive", "type": "c", "table": "supplier_price_lists", "schema": "public", "definition": "CHECK (min_quantity > 0)"}, {"name": "supplier_price_lists_organization_id_organizations_id_fk", "type": "f", "table": "supplier_price_lists", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "supplier_price_lists_pkey", "type": "p", "table": "supplier_price_lists", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "supplier_price_lists_price_non_negative", "type": "c", "table": "supplier_price_lists", "schema": "public", "definition": "CHECK (price >= 0::numeric)"}, {"name": "supplier_price_lists_product_id_products_id_fk", "type": "f", "table": "supplier_price_lists", "schema": "public", "definition": "FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE"}, {"name": "supplier_price_lists_quantity_range", "type": "c", "table": "supplier_price_lists", "schema": "public", "definition": "CHECK (max_quantity IS NULL OR max_quantity >= min_quantity)"}, {"name": "supplier_price_lists_supplier_id_suppliers_id_fk", "type": "f", "table": "supplier_price_lists", "schema": "public", "definition": "FOREIGN KEY (supplier_id) REFERENCES suppliers(id) ON DELETE CASCADE"}, {"name": "suppliers_communication_rating_range", "type": "c", "table": "suppliers", "schema": "public", "definition": "CHECK (communication_rating IS NULL OR communication_rating >= 0::numeric AND communication_rating <= 5::numeric)"}, {"name": "suppliers_delivery_rating_range", "type": "c", "table": "suppliers", "schema": "public", "definition": "CHECK (delivery_rating IS NULL OR delivery_rating >= 0::numeric AND delivery_rating <= 5::numeric)"}, {"name": "suppliers_order_value_range", "type": "c", "table": "suppliers", "schema": "public", "definition": "CHECK (minimum_order_value IS NULL OR maximum_order_value IS NULL OR maximum_order_value >= minimum_order_value)"}, {"name": "suppliers_organization_id_organizations_id_fk", "type": "f", "table": "suppliers", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "suppliers_overall_rating_range", "type": "c", "table": "suppliers", "schema": "public", "definition": "CHECK (overall_rating IS NULL OR overall_rating >= 0::numeric AND overall_rating <= 5::numeric)"}, {"name": "suppliers_pkey", "type": "p", "table": "suppliers", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "suppliers_quality_rating_range", "type": "c", "table": "suppliers", "schema": "public", "definition": "CHECK (quality_rating IS NULL OR quality_rating >= 0::numeric AND quality_rating <= 5::numeric)"}, {"name": "system_settings_created_by_users_id_fk", "type": "f", "table": "system_settings", "schema": "public", "definition": "FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "system_settings_organization_id_organizations_id_fk", "type": "f", "table": "system_settings", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "system_settings_pkey", "type": "p", "table": "system_settings", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "system_settings_updated_by_users_id_fk", "type": "f", "table": "system_settings", "schema": "public", "definition": "FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "targets_organization_id_organizations_id_fk", "type": "f", "table": "targets", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "targets_pkey", "type": "p", "table": "targets", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "user_delegations_delegate_id_users_id_fk", "type": "f", "table": "user_delegations", "schema": "public", "definition": "FOREIGN KEY (delegate_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "user_delegations_delegator_id_users_id_fk", "type": "f", "table": "user_delegations", "schema": "public", "definition": "FOREIGN KEY (delegator_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "user_delegations_different_users", "type": "c", "table": "user_delegations", "schema": "public", "definition": "CHECK (delegator_id <> delegate_id)"}, {"name": "user_delegations_organization_id_organizations_id_fk", "type": "f", "table": "user_delegations", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "user_delegations_pkey", "type": "p", "table": "user_delegations", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "user_delegations_valid_dates", "type": "c", "table": "user_delegations", "schema": "public", "definition": "CHECK (start_date < end_date)"}, {"name": "user_group_members_added_by_users_id_fk", "type": "f", "table": "user_group_members", "schema": "public", "definition": "FOREIGN KEY (added_by) REFERENCES users(id)"}, {"name": "user_group_members_group_id_user_groups_id_fk", "type": "f", "table": "user_group_members", "schema": "public", "definition": "FOREIGN KEY (group_id) REFERENCES user_groups(id) ON DELETE CASCADE"}, {"name": "user_group_members_organization_id_organizations_id_fk", "type": "f", "table": "user_group_members", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "user_group_members_pkey", "type": "p", "table": "user_group_members", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "user_group_members_user_id_users_id_fk", "type": "f", "table": "user_group_members", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "user_groups_organization_id_organizations_id_fk", "type": "f", "table": "user_groups", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "user_groups_pkey", "type": "p", "table": "user_groups", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "user_invitations_invited_by_users_id_fk", "type": "f", "table": "user_invitations", "schema": "public", "definition": "FOREIGN KEY (invited_by) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "user_invitations_organization_id_organizations_id_fk", "type": "f", "table": "user_invitations", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "user_invitations_pkey", "type": "p", "table": "user_invitations", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "user_invitations_valid_expiry", "type": "c", "table": "user_invitations", "schema": "public", "definition": "CHECK (expires_at > invited_at)"}, {"name": "user_onboarding_pkey", "type": "p", "table": "user_onboarding", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "user_onboarding_user_id_users_id_fk", "type": "f", "table": "user_onboarding", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "user_preferences_pkey", "type": "p", "table": "user_preferences", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "user_preferences_user_id_users_id_fk", "type": "f", "table": "user_preferences", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "user_sessions_pkey", "type": "p", "table": "user_sessions", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "user_sessions_user_id_users_id_fk", "type": "f", "table": "user_sessions", "schema": "public", "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}, {"name": "users_organization_id_organizations_id_fk", "type": "f", "table": "users", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "users_pkey", "type": "p", "table": "users", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "warehouse_locations_pkey", "type": "p", "table": "warehouse_locations", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "warranties_organization_id_organizations_id_fk", "type": "f", "table": "warranties", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "warranties_pkey", "type": "p", "table": "warranties", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "warranty_claims_approved_by_user_id_users_id_fk", "type": "f", "table": "warranty_claims", "schema": "public", "definition": "FOREIGN KEY (approved_by_user_id) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "warranty_claims_assigned_user_id_users_id_fk", "type": "f", "table": "warranty_claims", "schema": "public", "definition": "FOREIGN KEY (assigned_user_id) REFERENCES users(id) ON DELETE SET NULL"}, {"name": "warranty_claims_customer_id_customers_id_fk", "type": "f", "table": "warranty_claims", "schema": "public", "definition": "FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE"}, {"name": "warranty_claims_issue_id_issues_id_fk", "type": "f", "table": "warranty_claims", "schema": "public", "definition": "FOREIGN KEY (issue_id) REFERENCES issues(id) ON DELETE SET NULL"}, {"name": "warranty_claims_organization_id_organizations_id_fk", "type": "f", "table": "warranty_claims", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "warranty_claims_pkey", "type": "p", "table": "warranty_claims", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "warranty_claims_sla_tracking_id_sla_tracking_id_fk", "type": "f", "table": "warranty_claims", "schema": "public", "definition": "FOREIGN KEY (sla_tracking_id) REFERENCES sla_tracking(id) ON DELETE SET NULL"}, {"name": "warranty_claims_warranty_id_warranties_id_fk", "type": "f", "table": "warranty_claims", "schema": "public", "definition": "FOREIGN KEY (warranty_id) REFERENCES warranties(id) ON DELETE CASCADE"}, {"name": "warranty_extensions_organization_id_organizations_id_fk", "type": "f", "table": "warranty_extensions", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "warranty_extensions_pkey", "type": "p", "table": "warranty_extensions", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "warranty_policies_organization_id_organizations_id_fk", "type": "f", "table": "warranty_policies", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "warranty_policies_pkey", "type": "p", "table": "warranty_policies", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "win_loss_reasons_organization_id_organizations_id_fk", "type": "f", "table": "win_loss_reasons", "schema": "public", "definition": "FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"}, {"name": "win_loss_reasons_pkey", "type": "p", "table": "win_loss_reasons", "schema": "public", "definition": "PRIMARY KEY (id)"}, {"name": "messages_pkey", "type": "p", "table": "messages", "schema": "realtime", "definition": "PRIMARY KEY (id, inserted_at)"}, {"name": "messages_2026_01_03_pkey", "type": "p", "table": "messages_2026_01_03", "schema": "realtime", "definition": "PRIMARY KEY (id, inserted_at)"}, {"name": "messages_2026_01_04_pkey", "type": "p", "table": "messages_2026_01_04", "schema": "realtime", "definition": "PRIMARY KEY (id, inserted_at)"}, {"name": "messages_2026_01_05_pkey", "type": "p", "table": "messages_2026_01_05", "schema": "realtime", "definition": "PRIMARY KEY (id, inserted_at)"}, {"name": "messages_2026_01_06_pkey", "type": "p", "table": "messages_2026_01_06", "schema": "realtime", "definition": "PRIMARY KEY (id, inserted_at)"}, {"name": "messages_2026_01_07_pkey", "type": "p", "table": "messages_2026_01_07", "schema": "realtime", "definition": "PRIMARY KEY (id, inserted_at)"}, {"name": "messages_2026_01_08_pkey", "type": "p", "table": "messages_2026_01_08", "schema": "realtime", "definition": "PRIMARY KEY (id, inserted_at)"}, {"name": "messages_2026_01_09_pkey", "type": "p", "table": "messages_2026_01_09", "schema": "realtime", "definition": "PRIMARY KEY (id, inserted_at)"}, {"name": "schema_migrations_pkey", "type": "p", "table": "schema_migrations", "schema": "realtime", "definition": "PRIMARY KEY (version)"}, {"name": "pk_subscription", "type": "p", "table": "subscription", "schema": "realtime", "definition": "PRIMARY KEY (id)"}, {"name": "buckets_pkey", "type": "p", "table": "buckets", "schema": "storage", "definition": "PRIMARY KEY (id)"}, {"name": "buckets_analytics_pkey", "type": "p", "table": "buckets_analytics", "schema": "storage", "definition": "PRIMARY KEY (id)"}, {"name": "buckets_vectors_pkey", "type": "p", "table": "buckets_vectors", "schema": "storage", "definition": "PRIMARY KEY (id)"}, {"name": "migrations_name_key", "type": "u", "table": "migrations", "schema": "storage", "definition": "UNIQUE (name)"}, {"name": "migrations_pkey", "type": "p", "table": "migrations", "schema": "storage", "definition": "PRIMARY KEY (id)"}, {"name": "objects_bucketId_fkey", "type": "f", "table": "objects", "schema": "storage", "definition": "FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)"}, {"name": "objects_pkey", "type": "p", "table": "objects", "schema": "storage", "definition": "PRIMARY KEY (id)"}, {"name": "prefixes_bucketId_fkey", "type": "f", "table": "prefixes", "schema": "storage", "definition": "FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)"}, {"name": "prefixes_pkey", "type": "p", "table": "prefixes", "schema": "storage", "definition": "PRIMARY KEY (bucket_id, level, name)"}, {"name": "s3_multipart_uploads_bucket_id_fkey", "type": "f", "table": "s3_multipart_uploads", "schema": "storage", "definition": "FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)"}, {"name": "s3_multipart_uploads_pkey", "type": "p", "table": "s3_multipart_uploads", "schema": "storage", "definition": "PRIMARY KEY (id)"}, {"name": "s3_multipart_uploads_parts_bucket_id_fkey", "type": "f", "table": "s3_multipart_uploads_parts", "schema": "storage", "definition": "FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)"}, {"name": "s3_multipart_uploads_parts_pkey", "type": "p", "table": "s3_multipart_uploads_parts", "schema": "storage", "definition": "PRIMARY KEY (id)"}, {"name": "s3_multipart_uploads_parts_upload_id_fkey", "type": "f", "table": "s3_multipart_uploads_parts", "schema": "storage", "definition": "FOREIGN KEY (upload_id) REFERENCES storage.s3_multipart_uploads(id) ON DELETE CASCADE"}, {"name": "vector_indexes_bucket_id_fkey", "type": "f", "table": "vector_indexes", "schema": "storage", "definition": "FOREIGN KEY (bucket_id) REFERENCES storage.buckets_vectors(id)"}, {"name": "vector_indexes_pkey", "type": "p", "table": "vector_indexes", "schema": "storage", "definition": "PRIMARY KEY (id)"}, {"name": "schema_migrations_idempotency_key_key", "type": "u", "table": "schema_migrations", "schema": "supabase_migrations", "definition": "UNIQUE (idempotency_key)"}, {"name": "schema_migrations_pkey", "type": "p", "table": "schema_migrations", "schema": "supabase_migrations", "definition": "PRIMARY KEY (version)"}, {"name": "secrets_pkey", "type": "p", "table": "secrets", "schema": "vault", "definition": "PRIMARY KEY (id)"}]}]