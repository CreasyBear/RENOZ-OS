{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "canonical-enums.json",
  "title": "Canonical Enum Definitions",
  "description": "Single source of truth for all enum values. All PRDs and schema files must reference these definitions.",
  "version": "1.0.0",
  "lastUpdated": "2026-01-11",

  "usage": {
    "inPRD": "Reference as: $ref:canonical-enums.json#/enums/<enumName>",
    "inDrizzle": "Import from drizzle/schema/enums.ts - must match these values exactly",
    "validation": "Run PRD validation script to ensure all references resolve"
  },

  "enums": {
    "userRole": {
      "values": ["owner", "admin", "manager", "sales", "operations", "support", "viewer"],
      "description": "User roles for RBAC",
      "permissions": {
        "owner": "Full access, billing, org settings, can delete org",
        "admin": "Full data access, user management, cannot delete org",
        "manager": "Department-level access, report generation",
        "sales": "Customer, pipeline, order access",
        "operations": "Inventory, fulfillment, supplier access",
        "support": "Issue, warranty, customer read access",
        "viewer": "Read-only access across all domains"
      }
    },

    "userStatus": {
      "values": ["active", "invited", "suspended", "deactivated"],
      "description": "User account lifecycle status"
    },

    "userType": {
      "values": ["staff", "installer"],
      "description": "User classification for portal access"
    },

    "customerStatus": {
      "values": ["prospect", "active", "inactive", "suspended", "blacklisted"],
      "description": "Customer lifecycle status",
      "transitions": {
        "prospect": ["active"],
        "active": ["inactive", "suspended"],
        "inactive": ["active", "suspended"],
        "suspended": ["active", "blacklisted"],
        "blacklisted": []
      }
    },

    "customerType": {
      "values": ["individual", "business", "government", "non_profit"],
      "description": "Customer business classification"
    },

    "customerSize": {
      "values": ["micro", "small", "medium", "large", "enterprise"],
      "description": "Customer size classification for segmentation",
      "thresholds": {
        "micro": "< $10k annual",
        "small": "$10k - $50k annual",
        "medium": "$50k - $200k annual",
        "large": "$200k - $1M annual",
        "enterprise": "> $1M annual"
      }
    },

    "addressType": {
      "values": ["billing", "shipping", "service", "headquarters"],
      "description": "Address purpose classification"
    },

    "productType": {
      "values": ["physical", "service", "digital", "bundle"],
      "description": "Product type for inventory and fulfillment logic"
    },

    "taxType": {
      "values": ["gst", "gst_free", "input_taxed", "export"],
      "description": "Australian GST treatment classification"
    },

    "orderStatus": {
      "values": ["draft", "confirmed", "picking", "picked", "shipped", "delivered", "cancelled"],
      "description": "Order lifecycle status",
      "transitions": {
        "draft": ["confirmed", "cancelled"],
        "confirmed": ["picking", "cancelled"],
        "picking": ["picked", "confirmed"],
        "picked": ["shipped"],
        "shipped": ["delivered"],
        "delivered": [],
        "cancelled": []
      }
    },

    "paymentStatus": {
      "values": ["pending", "partial", "paid", "refunded", "overdue"],
      "description": "Order payment status"
    },

    "opportunityStage": {
      "values": ["new", "qualified", "proposal", "negotiation", "won", "lost"],
      "description": "Sales pipeline stage",
      "defaultProbability": {
        "new": 10,
        "qualified": 25,
        "proposal": 50,
        "negotiation": 75,
        "won": 100,
        "lost": 0
      }
    },

    "inventoryStatus": {
      "values": ["available", "allocated", "sold", "damaged", "returned", "quarantined"],
      "description": "Inventory item status"
    },

    "movementType": {
      "values": ["receive", "allocate", "deallocate", "pick", "ship", "adjust", "return", "transfer"],
      "description": "Inventory movement type for audit trail"
    },

    "purchaseOrderStatus": {
      "values": ["draft", "sent", "acknowledged", "partial", "received", "cancelled"],
      "description": "Purchase order lifecycle status"
    },

    "warrantyStatus": {
      "values": ["active", "expired", "voided", "transferred"],
      "description": "Warranty lifecycle status"
    },

    "issuePriority": {
      "values": ["low", "medium", "high", "critical"],
      "description": "Issue/ticket priority",
      "slaHours": {
        "low": 72,
        "medium": 24,
        "high": 8,
        "critical": 2
      }
    },

    "issueStatus": {
      "values": ["open", "in_progress", "pending", "resolved", "closed"],
      "description": "Issue/ticket lifecycle status"
    },

    "notificationStatus": {
      "values": ["pending", "sent", "read", "dismissed", "failed"],
      "description": "In-app notification delivery status"
    },

    "notificationType": {
      "values": ["quote", "order", "issue", "warranty", "shipment", "payment", "customer", "product", "inventory", "user", "system"],
      "description": "Notification type for routing and display",
      "table": "notifications",
      "column": "type"
    },

    "emailStatus": {
      "values": ["pending", "sent", "delivered", "opened", "clicked", "bounced", "failed"],
      "description": "Email delivery and engagement status"
    },

    "activityAction": {
      "values": ["created", "updated", "deleted", "viewed", "exported", "shared", "assigned", "commented"],
      "description": "Audit trail activity action types"
    },

    "activityEntityType": {
      "values": ["customer", "contact", "order", "opportunity", "product", "inventory", "supplier", "warranty", "issue", "user"],
      "description": "Entity types for polymorphic activity references"
    },

    "apiTokenScope": {
      "values": ["read", "write", "admin"],
      "description": "API token permission scopes",
      "table": "api_tokens",
      "column": "scopes"
    },

    "emptyStateType": {
      "values": ["no_data", "filtered_empty", "search_empty", "permission_denied", "error"],
      "description": "Empty state display types for UI components"
    }
  }
}
