# Wireframe: DOM-INV-008a/b - Inventory Dashboard

## Story Reference

- **Story ID**: DOM-INV-008a, DOM-INV-008b
- **Name**: Inventory Dashboard: Route + Additional Widgets
- **PRD**: memory-bank/prd/domains/inventory.prd.json
- **Type**: UI Component
- **Component Types**: Dashboard Page, Widget Grid, KPI Cards, Timeline, Charts
- **Primary Users**: Operations Manager, Warehouse Manager, Business Owner

## Overview

Dedicated inventory dashboard page with widget grid layout. Includes total value widget, below reorder widget, pending receipts widget, recent movements timeline, top products by movement volume, and stock health indicators.

## UI Patterns (Reference Implementation)

### Dashboard Cards (KPI)
- **Pattern**: RE-UI Card
- **Reference**: `_reference/.reui-reference/registry/default/ui/card.tsx`
- **Features**:
  - Large metric display with trend indicators
  - Change badges (green up arrow, red down arrow)
  - Secondary stats (item count, product count)

### Progress Bar with Health Status
- **Pattern**: RE-UI Progress
- **Reference**: `_reference/.reui-reference/registry/default/ui/progress.tsx`
- **Features**:
  - Stock health bar (healthy, at risk, critical segments)
  - Color-coded by status (green, orange, red)
  - Percentage breakdown display

### Card with List
- **Pattern**: RE-UI Card + ScrollArea
- **Reference**: `_reference/.reui-reference/registry/default/ui/card.tsx` & `scroll-area.tsx`
- **Features**:
  - Below reorder widget with product list
  - Compact row display (product, current/reorder quantities)
  - Action buttons (create all POs, view all)

### Timeline/Activity Feed
- **Pattern**: RE-UI Card with custom list
- **Reference**: `_reference/.reui-reference/registry/default/ui/card.tsx`
- **Features**:
  - Recent movements timeline grouped by date
  - Movement type icons (arrow in, arrow out, transfer)
  - Relative timestamps (2h ago, 4h ago)

### Chart Widget
- **Pattern**: Custom chart using RE-UI Card
- **Reference**: `_reference/.reui-reference/registry/default/ui/card.tsx`
- **Features**:
  - Value trend line chart
  - Smooth curves with area fill
  - Hover tooltips and interactive points

---

## Mobile Wireframe (375px)

### Inventory Dashboard - Main View

```
+=========================================+
| < Inventory                      [...]  |
+-----------------------------------------+
| Dashboard                               |
+-----------------------------------------+
|                                         |
|  +-------------------------------------+|
|  | TOTAL INVENTORY VALUE              ||
|  | ===================================||
|  |                                     ||
|  |     $142,850.00                     ||
|  |     ↑ +$3,250 (+2.3%)               ||
|  |                                     ||
|  |  Items: 1,247   Products: 156       ||
|  |                                     ||
|  +-------------------------------------+|
|                                         |
|  +-------------------------------------+|
|  | STOCK HEALTH                        ||
|  | ===================================||
|  |                                     ||
|  |  +-------------------------------+  ||
|  |  |  [################|##|#]      |  || <- Health bar
|  |  +-------------------------------+  ||
|  |                                     ||
|  |  Healthy: 142    At Risk: 9         ||
|  |  Critical: 5                        ||
|  |                                     ||
|  +-------------------------------------+|
|                                         |
|  +-------------------------------------+|
|  | BELOW REORDER POINT         [!] 5  ||
|  | ===================================||
|  |                                     ||
|  | 10kWh LFP Battery      3/25 units      ||
|  | Solar Panel 400     12/50 units     ||
|  | 5kW Hybrid Inverter        2/10 units      ||
|  | Battery 10kWh       8/30 units      ||
|  | Cable Kit Pro       15/40 units     ||
|  |                                     ||
|  | [View All]  [Create POs]            ||
|  +-------------------------------------+|
|                                         |
|  +-------------------------------------+|
|  | PENDING RECEIPTS               8   ||
|  | ===================================||
|  |                                     ||
|  | +----------------------------------+||
|  | | PO-2026-0042          Jan 15    |||
|  | | 50x 10kWh LFP Battery               |||
|  | | BYD Australia             |||
|  | +----------------------------------+||
|  |                                     ||
|  | +----------------------------------+||
|  | | PO-2026-0045          Jan 18    |||
|  | | 25x Solar Panel 400              |||
|  | | Growatt Pacific                   |||
|  | +----------------------------------+||
|  |                                     ||
|  | [View All POs]                      ||
|  +-------------------------------------+|
|                                         |
|  +-------------------------------------+|
|  | RECENT MOVEMENTS                    ||
|  | ===================================||
|  |                                     ||
|  | +----------------------------------+||
|  | | [->] 10kWh LFP Battery      -5      |||
|  | | Sold to Brisbane Solar Solutions     2h ago     |||
|  | +----------------------------------+||
|  |                                     ||
|  | +----------------------------------+||
|  | | [<-] Solar Panel 400    +25      |||
|  | | Received from PO-0045  4h ago    |||
|  | +----------------------------------+||
|  |                                     ||
|  | +----------------------------------+||
|  | | [~] Battery 10kWh      -2        |||
|  | | Allocated ORD-0089     5h ago    |||
|  | +----------------------------------+||
|  |                                     ||
|  | [View All Movements]                ||
|  +-------------------------------------+|
|                                         |
|  +-------------------------------------+|
|  | TOP PRODUCTS (by volume)            ||
|  | ===================================||
|  |                                     ||
|  | 1. 10kWh LFP Battery    145 units/wk   ||
|  | 2. Solar Panel 400    89 units/wk   ||
|  | 3. Cable Kit Pro      78 units/wk   ||
|  | 4. Mounting Rails     65 units/wk   ||
|  | 5. 5kW Hybrid Inverter       42 units/wk   ||
|  |                                     ||
|  | [View Report]                       ||
|  +-------------------------------------+|
|                                         |
+-----------------------------------------+
```

### Stock Health Widget Detail

```
+=========================================+
| =====================================   |
|                                         |
|  STOCK HEALTH DETAIL             [X]    |
|  -------------------------------------- |
|                                         |
|  OVERALL HEALTH SCORE: 91%              |
|  +-------------------------------------+|
|  | [##################################] ||
|  +-------------------------------------+|
|                                         |
|  BREAKDOWN                              |
|  -----------------------------------    |
|                                         |
|  +-------------------------------------+|
|  | HEALTHY (142 products)         91%  ||
|  | [###################################]||
|  | Stock levels adequate, good turnover ||
|  +-------------------------------------+|
|                                         |
|  +-------------------------------------+|
|  | AT RISK (9 products)            6%  ||
|  | [####]                              ||
|  | Below reorder or slow-moving        ||
|  | [View Items]                        ||
|  +-------------------------------------+|
|                                         |
|  +-------------------------------------+|
|  | CRITICAL (5 products)           3%  ||
|  | [##]                                ||
|  | Stockout imminent or 90+ days old   ||
|  | [View Items]                        ||
|  +-------------------------------------+|
|                                         |
|  HEALTH FACTORS                         |
|  -----------------------------------    |
|                                         |
|  +-------------------------------------+|
|  | Stock Levels        [ok] 95%        ||
|  | Turnover Rate       [ok] 88%        ||
|  | Age Distribution    [!] 82%         ||
|  | Forecast Accuracy   [ok] 94%        ||
|  +-------------------------------------+|
|                                         |
|  [Close]                                |
|                                         |
+=========================================+
```

---

## Tablet Wireframe (768px)

### Inventory Dashboard - 2 Column Layout

```
+=======================================================================+
| Inventory > Dashboard                              [Date Range v]      |
+-----------------------------------------------------------------------+
|                                                                       |
|  +-- SUMMARY ROW -------------------------------------------------------+
|  |                                                                      |
|  |  +---------------------+  +---------------------+  +---------------------+
|  |  | TOTAL VALUE         |  | STOCK HEALTH        |  | PENDING RECEIPTS    |
|  |  | $142,850            |  | 91% Healthy         |  | 8 POs              |
|  |  | ↑ +2.3%             |  | 9 At Risk, 5 Crit.  |  | $24,500 incoming   |
|  |  +---------------------+  +---------------------+  +---------------------+
|  |                                                                      |
|  +----------------------------------------------------------------------+
|                                                                       |
|  +-- WIDGETS -----------------------------------------------------------+
|  |                                                                      |
|  |  +-------------------------------+  +-------------------------------+|
|  |  | BELOW REORDER POINT    [!] 5  |  | TOP PRODUCTS (Volume)         ||
|  |  | ============================= |  | =============================  ||
|  |  |                               |  |                               ||
|  |  | Product       Stock  Reorder  |  | 1. 10kWh LFP Battery   145/wk    ||
|  |  | ----------------------------  |  | 2. Solar Panel 400   89/wk    ||
|  |  | Widget Pro      3     25      |  | 3. Cable Kit Pro     78/wk    ||
|  |  | Solar Panel    12     50      |  | 4. Mounting Rails    65/wk    ||
|  |  | 5kW Hybrid Inverter    2     10      |  | 5. 5kW Hybrid Inverter      42/wk    ||
|  |  | Battery        8     30      |  |                               ||
|  |  | Cable Kit      15     40      |  | [View Full Report]            ||
|  |  |                               |  +-------------------------------+|
|  |  | [Create All POs] [View All]   |                                  ||
|  |  +-------------------------------+                                  ||
|  |                                                                      |
|  |  +-------------------------------+  +-------------------------------+|
|  |  | PENDING RECEIPTS         8    |  | RECENT MOVEMENTS              ||
|  |  | ============================= |  | =============================  ||
|  |  |                               |  |                               ||
|  |  | PO-0042   Jan 15  50 units    |  | [->] Widget -5      2h ago    ||
|  |  | 10kWh LFP Battery  SunTech       |  | Sold - Brisbane Solar Solutions              ||
|  |  |                               |  |                               ||
|  |  | PO-0045   Jan 18  25 units    |  | [<-] Solar +25      4h ago    ||
|  |  | Solar Panel 400  TechSupply   |  | Received - PO-0045            ||
|  |  |                               |  |                               ||
|  |  | PO-0048   Jan 20  30 units    |  | [~] Battery -2      5h ago    ||
|  |  | 5kW Hybrid Inverter  Trina Solar AU         |  | Allocated - ORD-0089          ||
|  |  |                               |  |                               ||
|  |  | [View All POs]                |  | [View All Movements]          ||
|  |  +-------------------------------+  +-------------------------------+|
|  |                                                                      |
|  +----------------------------------------------------------------------+
|                                                                       |
+=======================================================================+
```

---

## Desktop Wireframe (1280px+)

### Inventory Dashboard - Full Layout

```
+======================================================================================================+
| Renoz CRM                                                                       [Bell] [User v]      |
+-------------+----------------------------------------------------------------------------------------+
|             |                                                                                        |
| Dashboard   |  Inventory Dashboard                                              [Date: Last 30 Days v]|
| Customers   |  ------------------------------------------------------------------------------------- |
| Orders      |                                                                                        |
| Products    |  +-- KPI CARDS -----------------------------------------------------------------------+|
| Inventory < |  |                                                                                    ||
|   Dashboard |  |  +------------------+  +------------------+  +------------------+  +---------------+||
|   ========  |  |  | TOTAL VALUE      |  | STOCK HEALTH     |  | BELOW REORDER    |  | PENDING POs  |||
|   Items     |  |  | $142,850         |  | 91%              |  | [!] 5 products   |  | 8 orders     |||
|   Locations |  |  | ↑ +$3,250 (2.3%) |  | 142 OK, 14 risk  |  | Action needed    |  | $24,500      |||
|   Forecast  |  |  +------------------+  +------------------+  +------------------+  +---------------+||
|   Counts    |  |                                                                                    ||
| Reports     |  +------------------------------------------------------------------------------------+|
| Jobs        |                                                                                        |
| Pipeline    |  +------------------------------------------------------------------------------------+|
|             |  |                                                                                    ||
|             |  |  +-- LOW STOCK ALERTS (1/3) ----+  +-- TOP PRODUCTS (1/3) ----+  +-- RECEIPTS ---+||
|             |  |  |                              |  |                          |  |              |||
|             |  |  | BELOW REORDER POINT    [!] 5 |  | TOP BY VOLUME (Weekly)   |  | EXPECTED     |||
|             |  |  | ============================ |  | ======================== |  | ============ |||
|             |  |  |                              |  |                          |  |              |||
|             |  |  | Product      Stock  Reorder  |  | #  Product      Volume   |  | Jan 15       |||
|             |  |  | --------------------------   |  | ----------------------   |  | PO-0042      |||
|             |  |  | Widget Pro    3      25      |  | 1  Widget Pro   145/wk   |  | 50 widgets   |||
|             |  |  | Solar Panel  12      50      |  | 2  Solar Panel   89/wk   |  |              |||
|             |  |  | Inverter      2      10      |  | 3  Cable Kit     78/wk   |  | Jan 18       |||
|             |  |  | Battery       8      30      |  | 4  Mounting      65/wk   |  | PO-0045      |||
|             |  |  | Cable Kit    15      40      |  | 5  Inverter      42/wk   |  | 25 panels    |||
|             |  |  |                              |  |                          |  |              |||
|             |  |  | [Create All POs]             |  | [Full Report]            |  | [All POs]    |||
|             |  |  +------------------------------+  +--------------------------+  +--------------+||
|             |  |                                                                                    ||
|             |  +------------------------------------------------------------------------------------+|
|             |                                                                                        |
|             |  +------------------------------------------------------------------------------------+|
|             |  |                                                                                    ||
|             |  |  +-- RECENT MOVEMENTS (1/2) ----------------------+  +-- STOCK HEALTH (1/2) -----+||
|             |  |  |                                                |  |                           |||
|             |  |  | MOVEMENT TIMELINE                              |  | HEALTH BREAKDOWN          |||
|             |  |  | ============================================== |  | ========================= |||
|             |  |  |                                                |  |                           |||
|             |  |  | TODAY                                          |  | +------------------------+|||
|             |  |  | -----                                          |  | | Healthy: 142   (91%)   ||||
|             |  |  | 10:32  [->] 10kWh LFP Battery        -5 units     |  | | [######################]||||
|             |  |  |        Sold to Brisbane Solar Solutionsoration                |  | +------------------------+|||
|             |  |  |                                                |  |                           |||
|             |  |  | 08:15  [<-] Solar Panel 400       +25 units    |  | +------------------------+|||
|             |  |  |        Received from PO-2026-0045              |  | | At Risk: 9     (6%)    ||||
|             |  |  |                                                |  | | [###]                  ||||
|             |  |  | YESTERDAY                                      |  | +------------------------+|||
|             |  |  | ---------                                      |  |                           |||
|             |  |  | 16:45  [~] Battery Pack 10kWh     -2 units     |  | +------------------------+|||
|             |  |  |        Allocated to ORD-2026-0089              |  | | Critical: 5    (3%)    ||||
|             |  |  |                                                |  | | [##]                   ||||
|             |  |  | 14:20  [->] Cable Kit Pro         -12 units    |  | +------------------------+|||
|             |  |  |        Sold to Sydney Energy Systems                 |  |                           |||
|             |  |  |                                                |  | [View Details]            |||
|             |  |  | [View All Movements]                           |  |                           |||
|             |  |  +------------------------------------------------+  +---------------------------+||
|             |  |                                                                                    ||
|             |  +------------------------------------------------------------------------------------+|
|             |                                                                                        |
+-------------+----------------------------------------------------------------------------------------+
```

### Value Trend Chart Widget

```
+======================================================================================================+
|                                                                                                      |
|  +-- INVENTORY VALUE TREND -----------------------------------------------------------------------+  |
|  |                                                                                                |  |
|  |  VALUE TREND (6 Months)                                        [Daily] [Weekly] [Monthly]     |  |
|  |                                                                         =======                |  |
|  |  +----------------------------------------------------------------------------------------+   |  |
|  |  |                                                                                        |   |  |
|  |  | $150k |                                                              *                 |   |  |
|  |  | $145k |                                                         *       *              |   |  |
|  |  | $140k |                                                    *                *          |   |  |
|  |  | $135k |                                               *                                |   |  |
|  |  | $130k |                                          *                                     |   |  |
|  |  | $125k |                                     *                                          |   |  |
|  |  | $120k |                                *                                               |   |  |
|  |  | $115k |                           *                                                    |   |  |
|  |  | $110k |          *           *                                                         |   |  |
|  |  | $105k |     *                                                                          |   |  |
|  |  | $100k | *                                                                              |   |  |
|  |  |       +----+----+----+----+----+----+----+----+----+----+----+----+----+----+----+     |   |  |
|  |  |        Jul  Aug  Sep  Oct  Nov  Dec  Jan                                               |   |  |
|  |  +----------------------------------------------------------------------------------------+   |  |
|  |                                                                                                |  |
|  |  Current: $142,850  |  Change: +$42,850 (+42.9%)  |  Avg: $121,500                            |  |
|  |                                                                                                |  |
|  +------------------------------------------------------------------------------------------------+  |
|                                                                                                      |
+======================================================================================================+
```

---

## Interaction States

### Loading States

```
DASHBOARD LOADING:
+------------------------------------------------------------------------------------+
| TOTAL VALUE        | STOCK HEALTH       | BELOW REORDER      | PENDING POs         |
+------------------------------------------------------------------------------------+
| [..............] | [..............] | [..............] | [..............] |
+------------------------------------------------------------------------------------+

+-------------------------------+  +-------------------------------+
| LOW STOCK ALERTS              |  | TOP PRODUCTS                  |
| [............................] |  | [............................] |
| [............................] |  | [............................] |
| [............................] |  | [............................] |
+-------------------------------+  +-------------------------------+
↑ Skeleton with shimmer

WIDGET REFRESHING:
+----------------------------------------+
| RECENT MOVEMENTS                [...]  |
| ====================================== |
|                                        |
|   Refreshing...                        |
|   +--------------------------------+   |
|   | [================            ] |   |
|   +--------------------------------+   |
|                                        |
+----------------------------------------+
```

### Empty States

```
NO LOW STOCK ITEMS:
+----------------------------------------+
| BELOW REORDER POINT                    |
| ====================================== |
|                                        |
|           +-------------+              |
|           |   [check]   |              |
|           +-------------+              |
|                                        |
|    All Stock Levels Healthy            |
|                                        |
|    No products are below their         |
|    reorder points.                     |
|                                        |
+----------------------------------------+

NO PENDING RECEIPTS:
+----------------------------------------+
| PENDING RECEIPTS                       |
| ====================================== |
|                                        |
|    No Pending Orders                   |
|                                        |
|    All purchase orders have            |
|    been received.                      |
|                                        |
|    [Create Purchase Order]             |
|                                        |
+----------------------------------------+

NO RECENT MOVEMENTS:
+----------------------------------------+
| RECENT MOVEMENTS                       |
| ====================================== |
|                                        |
|    No Recent Activity                  |
|                                        |
|    There have been no inventory        |
|    movements in the last 7 days.       |
|                                        |
+----------------------------------------+
```

### Error States

```
WIDGET LOAD FAILED:
+----------------------------------------+
| TOTAL INVENTORY VALUE            [!]   |
| ====================================== |
|                                        |
|    Couldn't load data                  |
|                                        |
|    [Retry]                             |
|                                        |
+----------------------------------------+

CONNECTION ERROR:
+----------------------------------------+
| [!] Dashboard Offline                  |
|                                        |
| Some widgets couldn't load.            |
| Data may be outdated.                  |
|                                        |
| Last updated: 10 minutes ago           |
|                                        |
| [Retry All]  [Dismiss]                 |
+----------------------------------------+
```

### Success States

```
DATA REFRESHED:
+----------------------------------------+
| [ok] Dashboard Updated                 |
|                                        |
| All widgets refreshed.                 |
| Last update: Just now                  |
|                                        |
+----------------------------------------+
↑ Toast notification (auto-dismiss 3s)

ACTION COMPLETED:
+----------------------------------------+
| [ok] 5 Purchase Orders Created         |
|                                        |
| Low stock alerts addressed.            |
|                                        |
| [View POs]  [Done]                     |
+----------------------------------------+
```

---

## Accessibility Notes

### Focus Order

1. **Dashboard Page**
   - Tab to date range selector
   - Tab through KPI cards (informational)
   - Tab into each widget
   - Within widgets: Tab through action buttons/links
   - Tab to refresh button

2. **Widget Navigation**
   - Enter to expand widget detail
   - Tab through widget content
   - Tab to action buttons
   - Escape to collapse

3. **Timeline**
   - Tab through movement items
   - Enter to view movement detail

### ARIA Requirements

```html
<!-- Dashboard -->
<main role="main" aria-labelledby="dashboard-title">
  <h1 id="dashboard-title">Inventory Dashboard</h1>

  <!-- KPI Cards -->
  <section role="region" aria-label="Key metrics">
    <div
      role="status"
      aria-label="Total inventory value: $142,850, up 2.3% from last month"
    >
      <span class="value">$142,850</span>
      <span class="change">+2.3%</span>
    </div>
  </section>
</main>

<!-- Widget -->
<section
  role="region"
  aria-labelledby="low-stock-title"
  aria-describedby="low-stock-count"
>
  <h2 id="low-stock-title">Below Reorder Point</h2>
  <span id="low-stock-count" aria-live="polite">5 products</span>

  <ul role="list" aria-label="Low stock products">
    <li aria-label="10kWh LFP Battery, 3 of 25 units, requires action">
      10kWh LFP Battery: 3/25
    </li>
  </ul>
</section>

<!-- Movement Timeline -->
<section role="log" aria-label="Recent inventory movements" aria-live="polite">
  <h2>Recent Movements</h2>
  <ul role="list">
    <li aria-label="2 hours ago: 10kWh LFP Battery, sold 5 units to Brisbane Solar Solutionsoration">
      <time datetime="2026-01-10T10:32:00">2h ago</time>
      10kWh LFP Battery -5 units
    </li>
  </ul>
</section>

<!-- Health Chart -->
<figure role="img" aria-label="Stock health: 91% healthy, 6% at risk, 3% critical">
  <figcaption>Stock health breakdown showing 142 healthy products, 9 at risk, and 5 critical</figcaption>
  <div aria-hidden="true"><!-- chart --></div>
</figure>
```

### Screen Reader Announcements

- Dashboard loaded: "Inventory dashboard loaded, total value $142,850, 5 products below reorder point"
- Widget updated: "Low stock widget updated, 5 products require action"
- Movement added: "New movement: 10kWh LFP Battery, 5 units sold, 2 hours ago"
- Alert: "Critical: 5kW Hybrid Inverter expected to stock out in 5 days"
- Action taken: "5 purchase orders created for low stock items"

---

## Animation Choreography

### Dashboard Load

```
PAGE LOAD:
- Duration: 600ms total
- KPI cards: stagger 100ms, scale up + fade in
- Widgets: stagger 150ms, slide up + fade in
- Charts: draw after widget visible

KPI COUNTER:
- Duration: 800ms
- Number: count up from 0 to value
- Easing: ease-out
- Change indicator: fade in after count
```

### Widget Updates

```
DATA REFRESH:
- Duration: 300ms
- Content: crossfade (old out, new in)
- Numbers: count animation if changed
- Lists: smooth reorder if items change position

NEW ITEM ADDED (movement):
- Duration: 400ms
- Slide in from top
- Other items shift down
- Highlight flash on new item
```

### Health Bars

```
INITIAL RENDER:
- Duration: 600ms
- Width: 0% -> actual%
- Stagger: 100ms between segments
- Easing: ease-out

PERCENTAGE LABEL:
- Duration: 500ms
- Count up animation
- Appear after bar fills
```

### Chart Animation

```
VALUE TREND:
- Duration: 1000ms
- Line: draw from left to right
- Points: pop in as line reaches them
- Area fill: fade in after line complete
- Easing: ease-out
```

---

## Component Props Interfaces

```typescript
// Inventory Dashboard Page
interface InventoryDashboardProps {
  /** Date range for metrics */
  dateRange?: { start: Date; end: Date };
  /** Widget layout */
  layout?: 'default' | 'compact' | 'expanded';
  /** Auto-refresh interval in seconds */
  refreshInterval?: number;
}

// KPI Card
interface InventoryKPICardProps {
  /** Card type */
  type: 'total_value' | 'stock_health' | 'below_reorder' | 'pending_pos';
  /** Value */
  value: number | string;
  /** Change from previous period */
  change?: number;
  /** Change direction */
  changeDirection?: 'up' | 'down' | 'neutral';
  /** Secondary info */
  subtitle?: string;
  /** Show alert indicator */
  alert?: boolean;
  /** Callback on click */
  onClick?: () => void;
}

// Low Stock Widget
interface LowStockWidgetProps {
  /** Maximum items to display */
  maxItems?: number;
  /** Show quick actions */
  showActions?: boolean;
  /** Callback when Create PO clicked */
  onCreatePO?: (productId: string) => void;
  /** Callback when Create All POs clicked */
  onCreateAllPOs?: () => void;
}

interface LowStockItem {
  productId: string;
  productName: string;
  sku: string;
  currentStock: number;
  reorderPoint: number;
  reorderQty: number;
  daysUntilStockout?: number;
}

// Pending Receipts Widget
interface PendingReceiptsWidgetProps {
  /** Maximum items to display */
  maxItems?: number;
  /** Days to look ahead */
  daysAhead?: number;
  /** Group by date */
  groupByDate?: boolean;
}

interface PendingReceipt {
  poId: string;
  poNumber: string;
  expectedDate: Date;
  productName: string;
  quantity: number;
  supplierName: string;
  status: 'pending' | 'confirmed' | 'shipped';
}

// Recent Movements Widget
interface RecentMovementsWidgetProps {
  /** Maximum items to display */
  maxItems?: number;
  /** Filter by movement type */
  movementTypes?: ('sale' | 'receipt' | 'adjustment' | 'allocation' | 'transfer')[];
  /** Group by date */
  groupByDate?: boolean;
  /** Live updates */
  liveUpdates?: boolean;
}

interface InventoryMovement {
  id: string;
  type: 'sale' | 'receipt' | 'adjustment' | 'allocation' | 'transfer';
  productId: string;
  productName: string;
  quantity: number;
  direction: 'in' | 'out';
  timestamp: Date;
  reference?: string; // Order ID, PO ID, etc.
  referenceName?: string;
}

// Top Products Widget
interface TopProductsWidgetProps {
  /** Metric to rank by */
  metric?: 'volume' | 'value' | 'velocity';
  /** Time period */
  period?: 'day' | 'week' | 'month';
  /** Number of products to show */
  limit?: number;
}

interface TopProduct {
  productId: string;
  productName: string;
  sku: string;
  metricValue: number;
  metricLabel: string;
  rank: number;
  changeFromPrevious?: number;
}

// Stock Health Widget
interface StockHealthWidgetProps {
  /** Show breakdown */
  showBreakdown?: boolean;
  /** Show health factors */
  showFactors?: boolean;
  /** Callback when segment clicked */
  onSegmentClick?: (segment: 'healthy' | 'at_risk' | 'critical') => void;
}

interface StockHealth {
  overallScore: number;
  healthyCount: number;
  healthyPercent: number;
  atRiskCount: number;
  atRiskPercent: number;
  criticalCount: number;
  criticalPercent: number;
  factors: HealthFactor[];
}

interface HealthFactor {
  name: string;
  score: number;
  status: 'ok' | 'warning' | 'critical';
}

// Value Trend Widget
interface ValueTrendWidgetProps {
  /** Trend period */
  period?: '7d' | '30d' | '90d' | '6m' | '1y';
  /** Granularity */
  granularity?: 'daily' | 'weekly' | 'monthly';
  /** Show comparison */
  showComparison?: boolean;
}

interface ValueTrendData {
  date: string;
  value: number;
  itemCount?: number;
}
```

---

## Component Files

| File | Purpose |
|------|---------|
| `src/routes/_authed/inventory/dashboard.tsx` | Dashboard page |
| `src/components/domain/inventory/widgets/inventory-kpi-cards.tsx` | KPI card grid |
| `src/components/domain/inventory/widgets/low-stock-widget.tsx` | Below reorder widget |
| `src/components/domain/inventory/widgets/pending-receipts-widget.tsx` | Expected POs |
| `src/components/domain/inventory/widgets/recent-movements-widget.tsx` | Movement timeline |
| `src/components/domain/inventory/widgets/top-products-widget.tsx` | Volume ranking |
| `src/components/domain/inventory/widgets/stock-health-widget.tsx` | Health breakdown |
| `src/components/domain/inventory/widgets/value-trend-widget.tsx` | Value chart |

---

## Design References

- **KPI Cards**: Large numbers, subtle background, change indicators
- **Health Colors**: Green (#22C55E) healthy, Orange (#F97316) at risk, Red (#EF4444) critical
- **Movement Icons**: Arrow out (red), Arrow in (green), Transfer (blue), Adjustment (gray)
- **Widget Style**: Card with header, content, footer actions
- **Chart Style**: Line with area fill, smooth curves, minimal grid
- **Timeline**: Grouped by date, compact rows, relative timestamps
