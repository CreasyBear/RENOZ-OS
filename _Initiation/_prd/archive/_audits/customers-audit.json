{
  "domain": "customers",
  "audit_date": "2026-01-09",
  "implementation_percentage": 50,
  "server_functions": [
    "getCustomerListMetrics",
    "listCustomers",
    "getCustomer",
    "getCustomerSummary",
    "createCustomer",
    "updateCustomer",
    "deleteCustomer",
    "bulkUpdateCustomerStatus",
    "bulkDeleteCustomers",
    "previewBulkImportCustomers",
    "bulkImportCustomers"
  ],
  "components": [
    "customer-columns.tsx",
    "bulk-import-dialog.tsx",
    "xero-sync-status.tsx",
    "warranties-tab.tsx",
    "quotes-tab.tsx",
    "orders-tab.tsx",
    "activity-tab.tsx",
    "addresses-tab.tsx",
    "customer-summary-card.tsx",
    "customer-form.tsx",
    "log-call-dialog.tsx",
    "contacts-tab.tsx"
  ],
  "routes": [
    "/customers/index.tsx",
    "/customers/$customerId.tsx"
  ],
  "schema_tables": ["customers", "contacts", "addresses", "customer_activities"],
  "prd_claims_verified": [
    "Customer CRUD operations",
    "Contact management (multiple per customer)",
    "Address management (billing/shipping)",
    "Activity logging (calls, emails, notes)",
    "Customer list with filtering/pagination",
    "Customer detail view with tabs",
    "Customer status (active/inactive)",
    "Bulk operations (update status, delete)",
    "CSV import with field mapping"
  ],
  "prd_claims_missing": [
    "DOM-CUST-001: Customer tags/segmentation - no customer_tags table",
    "DOM-CUST-002: Credit limit tracking - no creditLimit column",
    "DOM-CUST-003: Already has CSV import (VERIFIED)",
    "DOM-CUST-004: Merge duplicate customers - no merge functionality",
    "DOM-CUST-005: Enhanced 360 view - basic exists, needs metrics dashboard",
    "DOM-CUST-006: Customer health score - no calculation or storage",
    "DOM-CUST-007: Customer hierarchy - no parentId column",
    "DOM-CUST-008: Enhanced activity timeline - basic tab exists, not unified"
  ],
  "actual_features_not_in_prd": [
    "Xero integration (xeroContactId, sync status)",
    "Pricing tier tracking (pricingTierId)",
    "Customer summary with lifetime value, YTD revenue",
    "List metrics with trends and sparklines",
    "Log call dialog",
    "Email composer integration"
  ],
  "stories_ready_to_build": [
    "DOM-CUST-001: Customer Tags (schema + API + UI)",
    "DOM-CUST-002: Credit Limit (schema + API + UI)",
    "DOM-CUST-004: Merge Customers (complex)",
    "DOM-CUST-005: Enhanced 360 View (UI)",
    "DOM-CUST-006: Health Score (algorithm + jobs)",
    "DOM-CUST-007: Customer Hierarchy (schema + API + UI)",
    "DOM-CUST-008: Unified Activity Timeline (UI aggregation)"
  ]
}
