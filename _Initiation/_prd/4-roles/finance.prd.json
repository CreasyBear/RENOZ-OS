{
  "id": "ROLE-FINANCE",
  "name": "Finance Role Optimization",
  "description": "Optimized experience for Finance/Admin staff. Focus on invoice workflows, Xero reconciliation, and AR management.",
  "created": "2026-01-09",
  "priority": 4,
  "phase": "role",
  "persona": "Finance / Admin",
  "dependencies": {
    "phase": "Role",
    "executionOrder": 6,
    "schemaRequired": [
      {
        "table": "users",
        "status": "EXISTS"
      },
      {
        "table": "orders",
        "status": "EXISTS"
      },
      {
        "table": "customers",
        "status": "EXISTS"
      }
    ],
    "prdDependencies": [
      {
        "prdId": "DOM-ORD",
        "status": "REQUIRED",
        "reason": "Finance role needs orders for invoice generation and payment tracking"
      },
      {
        "prdId": "DOM-CUST",
        "status": "REQUIRED",
        "reason": "Finance role needs customer data for AR aging and payment reminders"
      },
      {
        "prdId": "INT-XERO",
        "status": "OPTIONAL",
        "reason": "Xero sync and reconciliation features depend on Xero integration"
      }
    ],
    "enables": []
  },
  "ui_spec": {
    "target_role": "finance",
    "primary_device": "desktop",
    "priority_actions": [
      "Create Invoice",
      "Record Payment",
      "View AR Aging"
    ],
    "accessibility": {
      "keyboard_navigation": true,
      "screen_reader_support": true,
      "color_contrast": "WCAG AA",
      "focus_indicators": "visible ring on all interactive elements",
      "table_accessibility": "Proper header associations for data tables"
    },
    "dashboard_layout": {
      "type": "data-dense-grid",
      "columns": 3,
      "primary_section": "financial-summary",
      "widget_arrangement": [
        {
          "widget": "revenue-mtd",
          "position": "top-left",
          "span": 1
        },
        {
          "widget": "ar-aging-summary",
          "position": "top-center",
          "span": 1
        },
        {
          "widget": "cash-flow",
          "position": "top-right",
          "span": 1
        },
        {
          "widget": "invoices-awaiting-send",
          "position": "middle-left",
          "span": 1
        },
        {
          "widget": "recent-payments",
          "position": "middle-center",
          "span": 1
        },
        {
          "widget": "xero-sync-status",
          "position": "middle-right",
          "span": 1
        },
        {
          "widget": "orders-ready-to-invoice",
          "position": "bottom",
          "span": 3
        }
      ]
    },
    "quick_action_panel": {
      "position": "top-right sticky",
      "actions": [
        {
          "label": "Create Invoice",
          "icon": "file-text",
          "shortcut": "Cmd+I"
        },
        {
          "label": "Record Payment",
          "icon": "dollar-sign",
          "shortcut": "Cmd+P"
        },
        {
          "label": "Sync Xero",
          "icon": "refresh-cw",
          "shortcut": null
        }
      ]
    },
    "notification_preferences": {
      "invoice_overdue": {
        "default": true,
        "channels": [
          "in-app",
          "email"
        ],
        "timing": "1 day after due"
      },
      "payment_received": {
        "default": true,
        "channels": [
          "in-app"
        ],
        "timing": "immediate"
      },
      "xero_sync_failed": {
        "default": true,
        "channels": [
          "in-app",
          "email"
        ],
        "timing": "immediate"
      },
      "reconciliation_mismatch": {
        "default": true,
        "channels": [
          "in-app"
        ],
        "timing": "daily digest"
      }
    }
  },
  "references": {
    "internal": [
      "memory-bank/VISION.md - User personas",
      "memory-bank/_meta/assumptions.md - Xero integration"
    ],
    "external": []
  },
  "current_state": {
    "implemented": [
      "Invoice creation via generateInvoice",
      "Financial dashboard tabs (Invoices/Payments/Reconciliation/Reports)",
      "Basic Xero sync for invoices",
      "Payment recording UI (server functions commented out)"
    ],
    "gaps": [
      "No role-based dashboard routing",
      "No orders-ready-to-invoice list",
      "Payment server functions commented out",
      "No Xero reconciliation data",
      "No AR aging buckets",
      "No payment reminder automation"
    ]
  },
  "stories": [
    {
      "id": "ROLE-FIN-001a",
      "name": "Add Role-Based Dashboard Routing",
      "description": "Finance role lands on /financial by default",
      "priority": 1,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "Finance role redirects to /financial on login",
        "Role check in root route loader",
        "TypeScript compiles without errors"
      ],
      "dependencies": [],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_001A_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "View Dashboard",
          "Navigate Tabs"
        ],
        "accessibility": {
          "navigation": "Clear active state on current section",
          "focus_management": "Focus main content after navigation"
        },
        "layout": {
          "redirect_behavior": "Automatic on login for finance role",
          "fallback": "Manual navigation always available"
        }
      }
    },
    {
      "id": "ROLE-FIN-001b",
      "name": "Add Revenue MTD and Cash Flow Widgets",
      "description": "Additional finance-specific widgets",
      "priority": 1,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "Revenue MTD widget showing total revenue this month",
        "Cash flow summary widget (invoiced vs received)",
        "Widgets added to financial dashboard",
        "TypeScript compiles without errors"
      ],
      "dependencies": [
        "ROLE-FIN-001a"
      ],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_001B_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "View Revenue",
          "Compare to Target"
        ],
        "accessibility": {
          "number_formatting": "Currency values with proper ARIA labels",
          "trend_indicators": "Up/down with text description, not just arrow"
        },
        "layout": {
          "revenue_widget": {
            "type": "KPI card",
            "primary_value": "Revenue MTD in large font",
            "secondary": "Comparison to last month, target"
          },
          "cash_flow_widget": {
            "type": "dual-bar comparison",
            "bars": [
              "Invoiced",
              "Received"
            ],
            "delta": "Outstanding amount highlighted"
          }
        }
      }
    },
    {
      "id": "ROLE-FIN-001c",
      "name": "Add Invoices Awaiting Send and Recent Payments Widgets",
      "description": "Actionable widgets for finance workflow",
      "priority": 1,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "Invoices awaiting send widget with count and list",
        "Recent payments widget showing last 5 payments",
        "Quick action buttons: Create Invoice, Record Payment",
        "TypeScript compiles without errors"
      ],
      "dependencies": [
        "ROLE-FIN-001b"
      ],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_001C_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "Send Invoice",
          "View Payment",
          "Record Payment"
        ],
        "accessibility": {
          "list_navigation": "Keyboard navigable list items",
          "action_buttons": "Clear labels on quick actions"
        },
        "layout": {
          "invoices_widget": {
            "type": "count + list",
            "header": "X Invoices Ready to Send",
            "list": "Top 5 with customer, amount, age",
            "action": "Send button per item, View All link"
          },
          "payments_widget": {
            "type": "recent activity list",
            "items": "Last 5 payments with customer, amount, date",
            "empty_state": "No recent payments message"
          }
        }
      }
    },
    {
      "id": "ROLE-FIN-002a",
      "name": "Add Orders Ready to Invoice List",
      "description": "Server function and UI to list orders ready for invoicing",
      "priority": 1,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "getOrdersReadyToInvoice server function",
        "Filters orders that are shipped/delivered with no invoice",
        "Orders Ready to Invoice tab or section in financial dashboard",
        "TypeScript compiles without errors"
      ],
      "dependencies": [],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_002A_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "View Order",
          "Create Invoice",
          "Bulk Invoice"
        ],
        "accessibility": {
          "table_headers": "Sortable with ARIA sort indicators",
          "bulk_selection": "Checkbox column with select all"
        },
        "layout": {
          "list_view": {
            "type": "data table",
            "columns": [
              "Select",
              "Order #",
              "Customer",
              "Amount",
              "Shipped Date",
              "Actions"
            ],
            "sorting": "By shipped date (oldest first) default"
          },
          "bulk_actions": {
            "position": "sticky header when items selected",
            "content": "X selected - Create Invoices button"
          }
        }
      }
    },
    {
      "id": "ROLE-FIN-002b",
      "name": "Add Invoice Generation Actions",
      "description": "One-click and bulk invoice generation with preview",
      "priority": 1,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "One-click invoice button per order in ready-to-invoice list",
        "Bulk select and generate invoices",
        "Preview modal before sending",
        "Auto-push to Xero via existing triggerCreateInvoiceFromOrder",
        "Send via email option",
        "TypeScript compiles without errors"
      ],
      "dependencies": [
        "ROLE-FIN-002a"
      ],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_002B_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "Generate Invoice",
          "Preview",
          "Send Email"
        ],
        "accessibility": {
          "modal_focus": "Focus trapped in preview modal",
          "loading_states": "Clear progress for bulk operations"
        },
        "layout": {
          "single_invoice": {
            "action_button": "Create Invoice in row actions",
            "flow": "Click -> Preview Modal -> Confirm -> Success toast"
          },
          "bulk_invoice": {
            "trigger": "Button in sticky header when selected",
            "preview": "Summary modal showing all invoices to create",
            "progress": "Progress bar during bulk creation"
          },
          "preview_modal": {
            "content": "Invoice PDF preview",
            "actions": [
              "Cancel",
              "Create Only",
              "Create & Send Email"
            ]
          }
        }
      }
    },
    {
      "id": "ROLE-FIN-003a",
      "name": "Implement Payment Recording Server Functions",
      "description": "Uncomment and complete payment recording functions",
      "priority": 1,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "recordPayment server function operational (uncommented)",
        "recordStandalonePayment server function operational",
        "Payment updates order paymentStatus field",
        "TypeScript compiles without errors"
      ],
      "dependencies": [],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_003A_COMPLETE"
    },
    {
      "id": "ROLE-FIN-003b",
      "name": "Add Payment Auto-Match and Multi-Invoice Allocation",
      "description": "Match payments to invoices and handle overpayments",
      "priority": 1,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "Auto-match payment to invoice by reference number",
        "Allocate payment across multiple invoices",
        "Handle overpayments as credit balance",
        "Payment method tracking (cash, card, bank transfer)",
        "Sync payment to Xero",
        "TypeScript compiles without errors"
      ],
      "dependencies": [
        "ROLE-FIN-003a"
      ],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_003B_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "Match Payment",
          "Allocate Amount",
          "Record"
        ],
        "accessibility": {
          "allocation_table": "Editable amounts with clear labels",
          "validation_feedback": "Immediate feedback on allocation totals"
        },
        "layout": {
          "payment_form": {
            "sections": [
              "Payment Details",
              "Invoice Matching",
              "Allocation"
            ],
            "auto_match": "Suggest invoice based on reference number"
          },
          "allocation_ui": {
            "type": "table with editable amounts",
            "columns": [
              "Invoice",
              "Total",
              "Outstanding",
              "Allocate"
            ],
            "summary": "Running total of allocated vs payment amount"
          },
          "overpayment_handling": {
            "display": "Credit balance shown clearly",
            "action": "Option to apply to future invoices"
          }
        }
      }
    },
    {
      "id": "ROLE-FIN-004a",
      "name": "Add Reconciliation Data Server Functions",
      "description": "Get Renoz and Xero totals for comparison",
      "priority": 2,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "getReconciliationData server function",
        "Fetch Renoz invoice totals by status",
        "Fetch Xero invoice totals via API",
        "Compute discrepancies between systems",
        "TypeScript compiles without errors"
      ],
      "dependencies": [],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_004A_COMPLETE"
    },
    {
      "id": "ROLE-FIN-004b",
      "name": "Add Reconciliation View UI",
      "description": "Side-by-side comparison and drill-down",
      "priority": 2,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "Replace ReconciliationTab placeholder with actual implementation",
        "Side-by-side: Renoz vs Xero totals",
        "Discrepancy highlighting",
        "Drill down to mismatched items",
        "Re-sync individual item button",
        "Last reconciliation timestamp",
        "TypeScript compiles without errors"
      ],
      "dependencies": [
        "ROLE-FIN-004a"
      ],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_004B_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "Compare Totals",
          "View Mismatches",
          "Re-sync Item"
        ],
        "accessibility": {
          "comparison_table": "Clear column headers for Renoz vs Xero",
          "discrepancy_indicators": "Icon + color + text for mismatches",
          "screen_reader_support": "Announce mismatch status"
        },
        "layout": {
          "summary_section": {
            "type": "side-by-side cards",
            "left": "Renoz totals by status",
            "right": "Xero totals by status",
            "delta": "Discrepancy highlighted between"
          },
          "mismatch_list": {
            "type": "data table",
            "filter": "Show mismatches only toggle",
            "columns": [
              "Invoice",
              "Renoz Amount",
              "Xero Amount",
              "Delta",
              "Actions"
            ],
            "actions": "Re-sync button, View details"
          },
          "timestamp": {
            "position": "top right of section",
            "content": "Last reconciled: [datetime], Refresh button"
          }
        }
      }
    },
    {
      "id": "ROLE-FIN-005a",
      "name": "Add AR Aging Server Function",
      "description": "Compute aging buckets from orders",
      "priority": 2,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "getARAgingReport server function",
        "Compute buckets: current, 30, 60, 90+ days from dueDate",
        "Totals per bucket",
        "Customer breakdown per bucket",
        "TypeScript compiles without errors"
      ],
      "dependencies": [],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_005A_COMPLETE"
    },
    {
      "id": "ROLE-FIN-005b",
      "name": "Add AR Aging Dashboard UI",
      "description": "Visual AR aging display with drill-down",
      "priority": 2,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "AR aging buckets table with amounts",
        "Click bucket to see invoices",
        "Customer AR breakdown view",
        "Trend over time chart",
        "Export to CSV button",
        "TypeScript compiles without errors"
      ],
      "dependencies": [
        "ROLE-FIN-005a"
      ],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_005B_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "View Bucket",
          "Contact Customer",
          "Export Report"
        ],
        "accessibility": {
          "bucket_navigation": "Clickable bucket headers with ARIA",
          "trend_chart": "Data table alternative for screen readers",
          "export": "Accessible button with clear label"
        },
        "layout": {
          "aging_summary": {
            "type": "horizontal bucket cards",
            "buckets": [
              "Current",
              "1-30 Days",
              "31-60 Days",
              "61-90 Days",
              "90+ Days"
            ],
            "display": "Amount + count per bucket",
            "color_coding": "Green to red gradient by age"
          },
          "bucket_detail": {
            "trigger": "Click bucket",
            "content": "Table of invoices in that bucket",
            "columns": [
              "Customer",
              "Invoice",
              "Amount",
              "Due Date",
              "Days Overdue"
            ]
          },
          "customer_breakdown": {
            "toggle": "Switch to customer view",
            "display": "Customer rows with aging columns"
          },
          "trend_chart": {
            "type": "stacked area or bar",
            "x_axis": "Time (months)",
            "y_axis": "Amount by bucket"
          }
        }
      }
    },
    {
      "id": "ROLE-FIN-006a",
      "name": "Add Financial Report Server Functions",
      "description": "Server functions for P&L and revenue reports",
      "priority": 3,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "getPLSummary server function (revenue - COGS from orders)",
        "getRevenueByCustomer server function",
        "getRevenueByProduct server function",
        "getOutstandingBalances server function",
        "getPaymentHistory server function",
        "TypeScript compiles without errors"
      ],
      "dependencies": [],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_006A_COMPLETE"
    },
    {
      "id": "ROLE-FIN-006b",
      "name": "Add Financial Reports UI",
      "description": "Reports page with charts and export",
      "priority": 3,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "Replace ReportsTab placeholder with implementation",
        "Report shortcuts on finance dashboard",
        "P&L summary view with date range",
        "Revenue by customer/product charts",
        "Outstanding balances table",
        "Payment history table",
        "Export all to CSV/PDF",
        "TypeScript compiles without errors"
      ],
      "dependencies": [
        "ROLE-FIN-006a"
      ],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_006B_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "Run Report",
          "Change Date Range",
          "Export"
        ],
        "accessibility": {
          "report_selection": "Keyboard navigable report list",
          "date_picker": "Accessible date range selector",
          "charts": "Data tables as alternatives"
        },
        "layout": {
          "report_navigation": {
            "type": "sidebar or tabs",
            "reports": [
              "P&L Summary",
              "Revenue by Customer",
              "Revenue by Product",
              "Outstanding Balances",
              "Payment History"
            ]
          },
          "report_header": {
            "content": "Report name, date range picker, export buttons",
            "position": "sticky top"
          },
          "report_content": {
            "pl_summary": "Income statement format table",
            "revenue_reports": "Bar charts + data tables",
            "balances": "Sortable data table",
            "payment_history": "Filterable transaction list"
          },
          "export_options": {
            "formats": [
              "CSV",
              "PDF"
            ],
            "scope": "Current view or full data"
          }
        }
      }
    },
    {
      "id": "ROLE-FIN-007a",
      "name": "Add Payment Reminder Configuration",
      "description": "Configure reminder schedule and templates",
      "priority": 3,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "payment_reminder_settings table (org, schedule days, template, auto/manual mode)",
        "Settings UI for reminder configuration",
        "Schedule options: 7, 14, 30 days overdue checkboxes",
        "Auto-send or manual approval toggle",
        "TypeScript compiles without errors"
      ],
      "dependencies": [],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_007A_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "Configure Schedule",
          "Edit Template",
          "Toggle Auto-send"
        ],
        "accessibility": {
          "checkbox_groups": "Labeled fieldset for schedule options",
          "toggle_switch": "Clear on/off state announcement"
        },
        "layout": {
          "settings_form": {
            "sections": [
              "Schedule",
              "Email Template",
              "Mode"
            ],
            "schedule_options": "Checkboxes for 7, 14, 30 days",
            "template_editor": "Rich text or template variables",
            "mode_toggle": "Auto-send vs Manual approval switch"
          }
        }
      }
    },
    {
      "id": "ROLE-FIN-007b",
      "name": "Add Payment Reminder Automation",
      "description": "Trigger.dev job for scheduled reminders",
      "priority": 3,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "Trigger.dev cron job checks overdue invoices daily",
        "Send reminder emails based on schedule config",
        "Reminder history tracked on invoice (remindersSent JSONB)",
        "Stop reminders when invoice marked paid",
        "Manual send reminder button functional",
        "TypeScript compiles without errors"
      ],
      "dependencies": [
        "ROLE-FIN-007a"
      ],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_007B_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "View Reminder History",
          "Send Manual Reminder",
          "Stop Reminders"
        ],
        "accessibility": {
          "history_list": "Accessible timeline of reminders sent",
          "action_buttons": "Clear labels for manual actions"
        },
        "layout": {
          "invoice_detail": {
            "reminder_section": "Collapsible section showing history",
            "manual_button": "Send Reminder Now button"
          },
          "reminder_queue": {
            "location": "Financial dashboard or separate view",
            "content": "Pending reminders with preview and approve/skip"
          }
        }
      }
    },
    {
      "id": "ROLE-FIN-008a",
      "name": "Add Xero Sync Status Server Function",
      "description": "Get pending and failed sync counts",
      "priority": 3,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "getXeroSyncStatus server function",
        "Pending syncs: orders with invoiceStatus but no xeroInvoiceId",
        "Failed syncs: tracked in xero_sync_errors table or JSONB field",
        "Last successful sync timestamp",
        "TypeScript compiles without errors"
      ],
      "dependencies": [],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_008A_COMPLETE"
    },
    {
      "id": "ROLE-FIN-008b",
      "name": "Add Xero Sync Status Dashboard Widget",
      "description": "Dashboard widget showing sync health",
      "priority": 3,
      "status": "pending",
      "passes": false,
      "acceptance_criteria": [
        "XeroSyncStatusWidget component",
        "Shows last sync time",
        "Pending syncs count with link",
        "Failed syncs count with error preview",
        "Manual sync trigger button",
        "Link to full sync log",
        "TypeScript compiles without errors"
      ],
      "dependencies": [
        "ROLE-FIN-008a"
      ],
      "estimated_iterations": 2,
      "completion_promise": "ROLE_FIN_008B_COMPLETE",
      "ui_spec": {
        "target_role": "finance",
        "primary_device": "desktop",
        "priority_actions": [
          "View Status",
          "Trigger Sync",
          "View Errors"
        ],
        "accessibility": {
          "status_indicator": "Icon + text for sync status",
          "error_list": "Accessible error messages",
          "action_buttons": "Clear labels for sync actions"
        },
        "layout": {
          "widget_card": {
            "header": "Xero Sync Status with overall health indicator",
            "metrics": [
              "Last Sync: [time]",
              "Pending: [count]",
              "Failed: [count]"
            ],
            "actions": [
              "Sync Now",
              "View Log"
            ]
          },
          "health_indicator": {
            "green": "All synced, no errors",
            "yellow": "Pending syncs",
            "red": "Failed syncs present"
          },
          "error_preview": {
            "display": "First error message truncated",
            "expand": "Link to full error log"
          }
        }
      }
    }
  ],
  "success_criteria": [
    "Invoice generation streamlined",
    "Xero sync reliable and visible",
    "AR aging enables collections",
    "Payment reminders reduce overdue",
    "npm run typecheck passes"
  ],
  "out_of_scope": [
    "Full accounting (Xero does this)",
    "Payroll",
    "Bank feed reconciliation"
  ],
  "pattern_references": [
    {
      "file": "_Initiation/_meta/patterns/testing-standards.md",
      "applies_to": "all stories",
      "reason": "All stories must follow testing standards"
    },
    {
      "file": "_Initiation/_meta/patterns/ux-3-click-rule.md",
      "applies_to": "ui layer stories",
      "reason": "UI must comply with 3-click rule"
    },
    {
      "file": "_Initiation/_meta/patterns/performance-benchmarks.md",
      "applies_to": "server and ui stories",
      "reason": "Must meet response time targets"
    }
  ]
}
